{"ast":null,"code":"import _classCallCheck from\"/Users/isaactan17/Desktop/ADES/frontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/isaactan17/Desktop/ADES/frontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/isaactan17/Desktop/ADES/frontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/isaactan17/Desktop/ADES/frontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import axios from'axios';import Button from'react-bootstrap/Button';import'../css/quiz.css';import QuizPopUp from'./QuizPopup';import{signOut}from\"firebase/auth\";import{auth}from'../firebase.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Quiz=/*#__PURE__*/function(_React$Component){_inherits(Quiz,_React$Component);var _super=_createSuper(Quiz);function Quiz(){var _this;_classCallCheck(this,Quiz);_this=_super.call(this);_this.handleClose=function(){var status=false;_this.setState({showModalPopup:status});};_this.handleButton=function(event){var status=true;_this.setState({showModalPopup:status});event.preventDefault();console.log(\"BUTTON CLICKED\");var quizID=event.target.getAttribute(\"data-index\");var totalMarks=event.target.getAttribute(\"data-mark\");var totalPoints=event.target.getAttribute(\"data-points\");// console.log(quizID);\n// console.log(totalMarks);\n// console.log(totalPoints);\nvar quiz={quizID:quizID,studentID:'1',pointsEarned:totalPoints,marksEarned:totalMarks};var studentUpdatePoint={pointsEarned:totalPoints,studentID:'1'};var config={headers:{'content-type':'application/json'}};axios.post('http://localhost:8081/quiz',quiz,config).then(function(res){console.log(res);console.log(res.data);console.log(\"AXIOS POSTING\");// window.location.reload();\n});axios.put(\"http://localhost:8081/studentPoints\",studentUpdatePoint,config).then(function(res){console.log(res);console.log(res.data);console.log(\"AXIOS PUTTING\");});};_this.state={showModalPopup:false,data:[]};return _this;}_createClass(Quiz,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;auth.onAuthStateChanged(function(user){if(user){console.log(\"User is Signed IN \");_this2.setState({uid:user.uid});var config={headers:{'content-type':'application/json'}};axios.get(\"https://ades-ca1-project.herokuapp.com/api/userType/\"+_this2.state.uid,config).then(function(res){//call maze animation\n_this2.mazeAnimation(false);if(res.data.type===1){_this2.setState({id:res.data.studentID});// area to put your axios with the student id\n}else if(res.data.type===2){window.location.replace('https://ades-ca1-project.herokuapp.com/quizment/teacherDashboard');}else{window.location.replace('https://ades-ca1-project.herokuapp.com/quizment');}});}else{console.log(\"THERE IS NO USER\");signOut(auth);window.location.replace('https://ades-ca1-project.herokuapp.com/quizment');}});axios.get(\"https://ades-ca1-project.herokuapp.com/api/quiz\").then(function(res){console.log(res.data.length);_this2.setState({data:res.data});console.log(res.data.length);_this2.setState({data:res.data});});}},{key:\"render\",value://NEED TO GET STUDENT ID!\n//   handleClose = () => {\n//     this.props.onPopupClose(false);\n// }\nfunction render(){var _this3=this;var data=this.state.data;// When the user clicks anywhere outside of the modal, close it\nreturn/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{id:\"users\",class:\"row\"}),/*#__PURE__*/_jsx(\"table\",{class:\"table\",children:data&&data.map(function(item){return/*#__PURE__*/_jsxs(\"tr\",{id:\"tableRow\",class:\"spaceUnder\",children:[/*#__PURE__*/_jsxs(\"td\",{className:\"quizTitle\",children:[\"Quiz \",item.quizID]}),/*#__PURE__*/_jsxs(\"td\",{className:\"marks\",children:[\"Total Marks: \",item.totalMarks]}),/*#__PURE__*/_jsxs(\"td\",{className:\"points\",children:[\"Total Points:\",item.totalPoints]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Button,{onClick:_this3.handleButton,\"data-index\":item.quizID,\"data-mark\":item.totalMarks,\"data-points\":item.totalPoints,type:\"submit\",id:\"myBtn\",children:\"Do Quiz!\"})})]},item.quizID);})}),/*#__PURE__*/_jsx(QuizPopUp,{showModalPopup:this.state.showModalPopup,onPopupClose:this.handleClose})]});}}]);return Quiz;}(React.Component);export{Quiz as default};","map":{"version":3,"sources":["/Users/isaactan17/Desktop/ADES/frontEnd/src/components/Quiz.js"],"names":["React","axios","Button","QuizPopUp","signOut","auth","Quiz","handleClose","status","setState","showModalPopup","handleButton","event","preventDefault","console","log","quizID","target","getAttribute","totalMarks","totalPoints","quiz","studentID","pointsEarned","marksEarned","studentUpdatePoint","config","headers","post","then","res","data","put","state","onAuthStateChanged","user","uid","get","mazeAnimation","type","id","window","location","replace","length","map","item","Component"],"mappings":"wmBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,wBAAnB,CACA,MAAO,iBAAP,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CACA,OAASC,OAAT,KAAwB,eAAxB,CACA,OAASC,IAAT,KAAqB,gBAArB,C,2FACqBC,CAAAA,I,wGAEjB,eAAc,sCACV,wBADU,MAkDdC,WAlDc,CAkDA,UAAM,CAChB,GAAIC,CAAAA,MAAM,CAAG,KAAb,CACA,MAAKC,QAAL,CAAc,CAAEC,cAAc,CAAEF,MAAlB,CAAd,EACH,CArDa,OAuDdG,YAvDc,CAuDC,SAAAC,KAAK,CAAI,CACpB,GAAIJ,CAAAA,MAAM,CAAG,IAAb,CACA,MAAKC,QAAL,CAAc,CAAEC,cAAc,CAAEF,MAAlB,CAAd,EACAI,KAAK,CAACC,cAAN,GACAC,OAAO,CAACC,GAAR,CAAY,gBAAZ,EACA,GAAMC,CAAAA,MAAM,CAAGJ,KAAK,CAACK,MAAN,CAAaC,YAAb,CAA0B,YAA1B,CAAf,CACA,GAAMC,CAAAA,UAAU,CAAGP,KAAK,CAACK,MAAN,CAAaC,YAAb,CAA0B,WAA1B,CAAnB,CACA,GAAME,CAAAA,WAAW,CAAGR,KAAK,CAACK,MAAN,CAAaC,YAAb,CAA0B,aAA1B,CAApB,CACA;AACA;AACA;AAEA,GAAMG,CAAAA,IAAI,CAAG,CACTL,MAAM,CAAEA,MADC,CAETM,SAAS,CAAE,GAFF,CAGTC,YAAY,CAAEH,WAHL,CAITI,WAAW,CAAEL,UAJJ,CAAb,CAMA,GAAMM,CAAAA,kBAAkB,CAAG,CACvBF,YAAY,CAAEH,WADS,CAEvBE,SAAS,CAAE,GAFY,CAA3B,CAKA,GAAMI,CAAAA,MAAM,CAAG,CACXC,OAAO,CAAE,CACL,eAAgB,kBADX,CADE,CAAf,CAKA1B,KAAK,CAAC2B,IAAN,CAAW,4BAAX,CAAyCP,IAAzC,CAA+CK,MAA/C,EACKG,IADL,CACU,SAAAC,GAAG,CAAI,CACThB,OAAO,CAACC,GAAR,CAAYe,GAAZ,EACAhB,OAAO,CAACC,GAAR,CAAYe,GAAG,CAACC,IAAhB,EACAjB,OAAO,CAACC,GAAR,CAAY,eAAZ,EACA;AACH,CANL,EAOAd,KAAK,CAAC+B,GAAN,uCAAiDP,kBAAjD,CAAqEC,MAArE,EACKG,IADL,CACU,SAAAC,GAAG,CAAI,CACThB,OAAO,CAACC,GAAR,CAAYe,GAAZ,EACAhB,OAAO,CAACC,GAAR,CAAYe,GAAG,CAACC,IAAhB,EACAjB,OAAO,CAACC,GAAR,CAAY,eAAZ,EACH,CALL,EAQH,CAlGa,CAEV,MAAKkB,KAAL,CAAa,CACTvB,cAAc,CAAE,KADP,CAETqB,IAAI,CAAE,EAFG,CAAb,CAFU,aAOb,C,kDACD,4BAAoB,iBAChB1B,IAAI,CAAC6B,kBAAL,CAAwB,SAACC,IAAD,CAAU,CAC9B,GAAIA,IAAJ,CAAU,CACNrB,OAAO,CAACC,GAAR,CAAY,oBAAZ,EACA,MAAI,CAACN,QAAL,CAAc,CAAE2B,GAAG,CAAED,IAAI,CAACC,GAAZ,CAAd,EACA,GAAMV,CAAAA,MAAM,CAAG,CACXC,OAAO,CAAE,CACL,eAAgB,kBADX,CADE,CAAf,CAKA1B,KAAK,CAACoC,GAAN,CAAU,uDAAyD,MAAI,CAACJ,KAAL,CAAWG,GAA9E,CAAmFV,MAAnF,EACKG,IADL,CACU,SAAAC,GAAG,CAAI,CAAC;AACV,MAAI,CAACQ,aAAL,CAAmB,KAAnB,EACA,GAAIR,GAAG,CAACC,IAAJ,CAASQ,IAAT,GAAkB,CAAtB,CAAyB,CACrB,MAAI,CAAC9B,QAAL,CAAc,CAAE+B,EAAE,CAAEV,GAAG,CAACC,IAAJ,CAAST,SAAf,CAAd,EACA;AAEH,CAJD,IAIO,IAAIQ,GAAG,CAACC,IAAJ,CAASQ,IAAT,GAAkB,CAAtB,CAAyB,CAC5BE,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAwB,kEAAxB,EACH,CAFM,IAEA,CACHF,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAwB,iDAAxB,EACH,CACJ,CAZL,EAaH,CArBD,IAqBO,CACH7B,OAAO,CAACC,GAAR,CAAY,kBAAZ,EACAX,OAAO,CAACC,IAAD,CAAP,CACAoC,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAwB,iDAAxB,EACH,CACJ,CA3BD,EA4BA1C,KAAK,CAACoC,GAAN,oDACKR,IADL,CACU,SAAAC,GAAG,CAAI,CACThB,OAAO,CAACC,GAAR,CAAYe,GAAG,CAACC,IAAJ,CAASa,MAArB,EACA,MAAI,CAACnC,QAAL,CAAc,CAAEsB,IAAI,CAAED,GAAG,CAACC,IAAZ,CAAd,EAEAjB,OAAO,CAACC,GAAR,CAAYe,GAAG,CAACC,IAAJ,CAASa,MAArB,EAEA,MAAI,CAACnC,QAAL,CAAc,CAAEsB,IAAI,CAAED,GAAG,CAACC,IAAZ,CAAd,EAGH,CAVL,EAWH,C,sBAoDD;AAEA;AACA;AACA;AAEA,iBAAS,iBACL,GAAMA,CAAAA,IAAI,CAAG,KAAKE,KAAL,CAAWF,IAAxB,CACA;AACA,mBACI,oCACI,YAAK,EAAE,CAAC,OAAR,CAAgB,KAAK,CAAC,KAAtB,EADJ,cAWI,cAAO,KAAK,CAAC,OAAb,UAEKA,IAAI,EAAIA,IAAI,CAACc,GAAL,CAAS,SAAAC,IAAI,qBAClB,YAAsB,EAAE,CAAC,UAAzB,CAAoC,KAAK,CAAC,YAA1C,wBACI,YAAI,SAAS,CAAC,WAAd,mBAAgCA,IAAI,CAAC9B,MAArC,GADJ,cAEI,YAAI,SAAS,CAAC,OAAd,2BAAoC8B,IAAI,CAAC3B,UAAzC,GAFJ,cAGI,YAAI,SAAS,CAAC,QAAd,2BAAqC2B,IAAI,CAAC1B,WAA1C,GAHJ,cAKI,iCACI,KAAC,MAAD,EAAQ,OAAO,CAAE,MAAI,CAACT,YAAtB,CAAoC,aAAYmC,IAAI,CAAC9B,MAArD,CAA6D,YAAW8B,IAAI,CAAC3B,UAA7E,CAAyF,cAAa2B,IAAI,CAAC1B,WAA3G,CAAwH,IAAI,CAAC,QAA7H,CAAsI,EAAE,CAAC,OAAzI,sBADJ,EALJ,GAAS0B,IAAI,CAAC9B,MAAd,CADkB,EAAb,CAFb,EAXJ,cA0BI,KAAC,SAAD,EACI,cAAc,CAAE,KAAKiB,KAAL,CAAWvB,cAD/B,CAEI,YAAY,CAAE,KAAKH,WAFvB,EA1BJ,GADJ,CAiCH,C,kBAhJ6BP,KAAK,CAAC+C,S,SAAnBzC,I","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport Button from 'react-bootstrap/Button';\nimport '../css/quiz.css';\nimport QuizPopUp from './QuizPopup';\nimport { signOut } from \"firebase/auth\";\nimport { auth } from '../firebase.js';\nexport default class Quiz extends React.Component {\n\n    constructor() {\n        super();\n        this.state = {\n            showModalPopup: false,\n            data: [],\n\n        }\n    }\n    componentDidMount() {\n        auth.onAuthStateChanged((user) => {\n            if (user) {\n                console.log(\"User is Signed IN \");\n                this.setState({ uid: user.uid });\n                const config = {\n                    headers: {\n                        'content-type': 'application/json'\n                    }\n                }\n                axios.get(`https://ades-ca1-project.herokuapp.com/api/userType/` + this.state.uid, config)\n                    .then(res => {//call maze animation\n                        this.mazeAnimation(false)\n                        if (res.data.type === 1) {\n                            this.setState({ id: res.data.studentID })\n                            // area to put your axios with the student id\n\n                        } else if (res.data.type === 2) {\n                            window.location.replace('https://ades-ca1-project.herokuapp.com/quizment/teacherDashboard');\n                        } else {\n                            window.location.replace('https://ades-ca1-project.herokuapp.com/quizment');\n                        }\n                    })\n            } else {\n                console.log(\"THERE IS NO USER\");\n                signOut(auth);\n                window.location.replace('https://ades-ca1-project.herokuapp.com/quizment');\n            }\n        });\n        axios.get(`https://ades-ca1-project.herokuapp.com/api/quiz`)\n            .then(res => {\n                console.log(res.data.length);\n                this.setState({ data: res.data });\n\n                console.log(res.data.length);\n\n                this.setState({ data: res.data });\n\n\n            });\n    }\n\n    handleClose = () => {\n        let status = false\n        this.setState({ showModalPopup: status });\n    }\n\n    handleButton = event => {\n        let status = true\n        this.setState({ showModalPopup: status });\n        event.preventDefault();\n        console.log(\"BUTTON CLICKED\");\n        const quizID = event.target.getAttribute(\"data-index\");\n        const totalMarks = event.target.getAttribute(\"data-mark\");\n        const totalPoints = event.target.getAttribute(\"data-points\");\n        // console.log(quizID);\n        // console.log(totalMarks);\n        // console.log(totalPoints);\n\n        const quiz = {\n            quizID: quizID,\n            studentID: '1',\n            pointsEarned: totalPoints,\n            marksEarned: totalMarks\n        };\n        const studentUpdatePoint = {\n            pointsEarned: totalPoints,\n            studentID: '1',\n        }\n\n        const config = {\n            headers: {\n                'content-type': 'application/json'\n            }\n        }\n        axios.post('http://localhost:8081/quiz', quiz, config)\n            .then(res => {\n                console.log(res);\n                console.log(res.data);\n                console.log(\"AXIOS POSTING\")\n                // window.location.reload();\n            })\n        axios.put(`http://localhost:8081/studentPoints`, studentUpdatePoint, config)\n            .then(res => {\n                console.log(res);\n                console.log(res.data);\n                console.log(\"AXIOS PUTTING\")\n            })\n\n\n    }\n\n    //NEED TO GET STUDENT ID!\n\n    //   handleClose = () => {\n    //     this.props.onPopupClose(false);\n    // }\n\n    render() {\n        const data = this.state.data;\n        // When the user clicks anywhere outside of the modal, close it\n        return (\n            <div>\n                <div id=\"users\" class=\"row\">\n                </div>\n                {/* <div>\n          <div id=\"myModal\" class=\"modal\">\n            <div class=\"modal-content\">\n              <span class=\"close\">&times;</span>\n              <p>QUIZ completed!</p>\n            </div>\n          </div>\n        </div> */}\n                <table class=\"table\">\n\n                    {data && data.map(item =>\n                        <tr key={item.quizID} id='tableRow' class=\"spaceUnder\">\n                            <td className=\"quizTitle\">Quiz {item.quizID}</td>\n                            <td className=\"marks\">Total Marks: {item.totalMarks}</td>\n                            <td className=\"points\">Total Points:{item.totalPoints}</td>\n\n                            <td>\n                                <Button onClick={this.handleButton} data-index={item.quizID} data-mark={item.totalMarks} data-points={item.totalPoints} type=\"submit\" id=\"myBtn\">Do Quiz!</Button>\n\n                            </td>\n                        </tr>\n                    )}\n                </table>\n                <QuizPopUp\n                    showModalPopup={this.state.showModalPopup}\n                    onPopupClose={this.handleClose}\n                ></QuizPopUp>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}