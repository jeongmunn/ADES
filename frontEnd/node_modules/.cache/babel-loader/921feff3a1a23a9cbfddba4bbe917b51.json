{"ast":null,"code":"import _classCallCheck from\"/Users/isaactan17/Desktop/ADES/frontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/isaactan17/Desktop/ADES/frontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/isaactan17/Desktop/ADES/frontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/isaactan17/Desktop/ADES/frontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component,Fragment}from'react';import Button from'react-bootstrap/Button';import{Modal}from'react-bootstrap';import axios from'axios';import jQuery from'jquery';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var MazePopup=/*#__PURE__*/function(_Component){_inherits(MazePopup,_Component);var _super=_createSuper(MazePopup);function MazePopup(props){var _this;_classCallCheck(this,MazePopup);_this=_super.call(this,props);_this.isShowModal=function(status){_this.handleClose();_this.setState({showModal:status});};_this.handleClose=function(){_this.props.onPopupClose(false,_this.props.level);};_this.handleComplete=function(){// Store student's points\nvar quizPts=_this.props.point;var currentPoints=_this.state.currentPts+quizPts;var totalPoints=_this.state.totalPts+quizPts;var mazeLvl=parseInt(_this.state.mazeLvl)+1;// Do the calculation\n_this.setState({currentPts:currentPoints});_this.setState({totalPts:totalPoints});_this.setState({mazeLvl:mazeLvl});// Update student's table\nvar data={currentPts:currentPoints,totalPts:totalPoints,mazeLvl:mazeLvl};var config={headers:{'content-type':'application/json'}};axios.put('https://ades-ca1-project.herokuapp.com/api/points/'+_this.props.id,data,config).then(function(res){console.log(res);console.log(res.data);window.alert(\"put points id\");});var points={ptsAwarded:quizPts,eventID:2};// Insert points history\naxios.post('https://ades-ca1-project.herokuapp.com/api/ptsHistory/'+_this.props.id,points,config).then(function(res){console.log(res);console.log(res.data);_this.handleClose();window.alert(\"post ptsHistory id\");//updating the state \n_this.props.onNewLevel(true);});};_this.state={showModal:false,newLevel:false,currentPts:0,totalPts:0,mazeLvl:0};return _this;}_createClass(MazePopup,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;// Get student's points data'\nconsole.log(this.props.id);for(this.props.id===0;this.props.id>0;){if(this.props.id===0){console.log(\"User undefined.\");}else{axios.get('https://ades-ca1-project.herokuapp.com/api/points/'+this.props.id).then(function(res){_this2.setState({currentPts:res.data[0].redeemedPts});_this2.setState({totalPts:res.data[0].totalPts});_this2.setState({mazeLvl:res.data[0].mazeLvl});window.alert(\"get points id\");}).catch(function(error){console.log(error);});}}}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsxs(Modal,{show:this.props.showModalPopup,onHide:this.handleClose,id:this.props.level,size:\"lg\",\"aria-labelledby\":\"contained-modal-title-vcenter\",centered:true,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsxs(Modal.Title,{id:\"sign-in-title\",children:[\"Level \",this.props.level]})}),/*#__PURE__*/_jsxs(Modal.Body,{children:[/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"Quiz\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"Points : \",this.props.point,\" \"]}),/*#__PURE__*/_jsx(Button,{onClick:this.handleComplete,children:\"Complete\"})]})]})]})});}}]);return MazePopup;}(Component);export{MazePopup as default};","map":{"version":3,"sources":["/Users/isaactan17/Desktop/ADES/frontEnd/src/components/MazePopup.js"],"names":["React","Component","Fragment","Button","Modal","axios","jQuery","MazePopup","props","isShowModal","status","handleClose","setState","showModal","onPopupClose","level","handleComplete","quizPts","point","currentPoints","state","currentPts","totalPoints","totalPts","mazeLvl","parseInt","data","config","headers","put","id","then","res","console","log","window","alert","points","ptsAwarded","eventID","post","onNewLevel","newLevel","get","redeemedPts","catch","error","showModalPopup"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react';\nimport Button from 'react-bootstrap/Button';\nimport { Modal } from 'react-bootstrap';\nimport axios from 'axios';\nimport jQuery from 'jquery';\n\nexport default class MazePopup extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            showModal: false,\n            newLevel: false,\n            currentPts: 0,\n            totalPts: 0,\n            mazeLvl: 0,\n\n        };\n    }\n\n    componentDidMount() {\n        // Get student's points data'\n        console.log(this.props.id);\n        for (this.props.id === 0; this.props.id > 0;) {\n            if(this.props.id ===0) {\n            console.log(\"User undefined.\");\n            } else {\n            axios.get('https://ades-ca1-project.herokuapp.com/api/points/' + this.props.id)\n                .then(res => {\n                    this.setState({ currentPts: res.data[0].redeemedPts });\n                    this.setState({ totalPts: res.data[0].totalPts });\n                    this.setState({ mazeLvl: res.data[0].mazeLvl });\n                    window.alert(\"get points id\");\n                }).catch((error) => {\n                    console.log(error);\n                });\n            }\n        }\n    }\n\n    isShowModal = (status) => {\n        this.handleClose();\n        this.setState({ showModal: status });\n    }\n\n    handleClose = () => {\n        this.props.onPopupClose(false, this.props.level);\n    }\n\n    handleComplete = () => {\n        // Store student's points\n        const quizPts = this.props.point;\n        const currentPoints = (this.state.currentPts + quizPts);\n        const totalPoints = (this.state.totalPts + quizPts);\n\n        const mazeLvl = (parseInt(this.state.mazeLvl) + 1);\n\n        // Do the calculation\n        this.setState({ currentPts: currentPoints });\n        this.setState({ totalPts: totalPoints });\n        this.setState({ mazeLvl: mazeLvl });\n        // Update student's table\n        const data = {\n            currentPts: currentPoints,\n            totalPts: totalPoints,\n            mazeLvl: mazeLvl\n        }\n\n        const config = {\n            headers: {\n                'content-type': 'application/json'\n            }\n        }\n\n        axios.put('https://ades-ca1-project.herokuapp.com/api/points/' + this.props.id, data, config)\n            .then(res => {\n                console.log(res);\n                console.log(res.data);\n                window.alert(\"put points id\");\n            })\n\n        const points = {\n            ptsAwarded: quizPts,\n            eventID: 2\n        }\n\n        // Insert points history\n        axios.post('https://ades-ca1-project.herokuapp.com/api/ptsHistory/' + this.props.id, points, config)\n            .then(res => {\n                console.log(res);\n                console.log(res.data);\n                this.handleClose();\n                window.alert(\"post ptsHistory id\");\n                //updating the state \n                this.props.onNewLevel(true);\n\n            })\n    }\n\n    render() {\n\n        return (\n            <Fragment>\n                <Modal show={this.props.showModalPopup} onHide={this.handleClose} id={this.props.level}\n                    size=\"lg\" aria-labelledby=\"contained-modal-title-vcenter\" centered>\n                    <Modal.Header closeButton>\n                        <Modal.Title id=\"sign-in-title\">\n                            Level {this.props.level}\n                        </Modal.Title>\n                    </Modal.Header>\n                    <Modal.Body>\n                        <hr />\n                        <div className=\"Quiz\">\n                            <div>Points : {this.props.point} </div>\n                            <Button onClick={this.handleComplete} >Complete</Button>\n                        </div>\n                    </Modal.Body>\n                </Modal >\n            </Fragment >\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}