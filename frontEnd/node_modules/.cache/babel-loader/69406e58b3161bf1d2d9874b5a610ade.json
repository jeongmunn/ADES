{"ast":null,"code":"import _classCallCheck from\"C:/Users/khadi/OneDrive/Documents/GitHub/ADES/frontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/khadi/OneDrive/Documents/GitHub/ADES/frontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/khadi/OneDrive/Documents/GitHub/ADES/frontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/khadi/OneDrive/Documents/GitHub/ADES/frontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import axios from'axios';import wisp from'../img/wisp.png';import cloud1 from'../img/cloud1.png';import cloud2 from'../img/cloud2.png';import cloud3 from'../img/cloud3.png';import cloud4 from'../img/cloud4.png';import cloud5 from'../img/cloud5.png';import cloud6 from'../img/cloud6.png';import cloud7 from'../img/cloud7.png';import cloud8 from'../img/cloud8.png';import MazePopup from'./MazePopup';import'../css/maze.css';import moment from'moment';import{signOut}from\"firebase/auth\";import{auth}from'../firebase.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MapOfMaze=/*#__PURE__*/function(_React$Component){_inherits(MapOfMaze,_React$Component);var _super=_createSuper(MapOfMaze);function MapOfMaze(){var _this;_classCallCheck(this,MapOfMaze);_this=_super.call(this);_this.ableMaze=function(mazeLvl){var cloudLvl=parseInt(mazeLvl);if(cloudLvl>0){document.getElementById(\"cloud2img\").style.filter=\"unset\";document.getElementById('cloud2').style.pointerEvents='unset';}if(cloudLvl>1){document.getElementById(\"cloud3img\").style.filter=\"unset\";document.getElementById('cloud3').style.pointerEvents='unset';}if(cloudLvl>2){document.getElementById(\"cloud4img\").style.filter=\"unset\";document.getElementById('cloud4').style.pointerEvents='unset';}if(cloudLvl>3){document.getElementById(\"cloud5img\").style.filter=\"unset\";document.getElementById('cloud5').style.pointerEvents='unset';}if(cloudLvl>4){document.getElementById(\"cloud6img\").style.filter=\"unset\";document.getElementById('cloud6').style.pointerEvents='unset';}if(cloudLvl>5){document.getElementById(\"cloud7img\").style.filter=\"unset\";document.getElementById('cloud7').style.pointerEvents='unset';}if(cloudLvl>6){document.getElementById(\"cloud8img\").style.filter=\"unset\";document.getElementById('cloud8').style.pointerEvents='unset';}};_this.studentLevel=function(callback){console.log(_this.state.id+\"STUDENTELVE AND WHY IT HA CRASH\");axios.get(\"https://ades-ca1-project.herokuapp.com/api/mapOfMaze/\"+_this.state.id).then(function(res){_this.setState({maze:res.data[0].mazeLvl});var mazeLvl=JSON.stringify(_this.state.maze);_this.ableMaze(mazeLvl);_this.setState({isNewLevel:false});callback(mazeLvl);}).catch(console.error('error'));};_this.mazeAnimation=function(status){if(status===false){_this.studentLevel(function(mazeLvl){if(mazeLvl>0){lvl1(mazeLvl);}else{}});}else{_this.studentLevel(function(mazeLvl){var updated=parseInt(mazeLvl);console.log(\"IT CRASHED HERE AND THIS IS THE NEW LEVLE\"+updated);if(updated===1){lvl1(mazeLvl);}else if(updated===2){lvl2(mazeLvl);}else if(updated===3){lvl3(mazeLvl);}else if(updated===4){lvl4(mazeLvl);}else if(updated===5){lvl5(mazeLvl);}else if(updated===6){lvl6(mazeLvl);}else if(updated===7){lvl7(mazeLvl);}else if(updated===8){lvl8(mazeLvl);}});}function lvl1(mazeLvl){var id=null;var elem=document.getElementById(\"animate\");var pos=0;clearInterval(id);id=setInterval(frame,50);function frame(){if(pos===12){clearInterval(id);if(mazeLvl>1){setTimeout(lvl2(mazeLvl),2);}}else{pos++;elem.style.top=pos+\"%\";elem.style.left=pos+\"%\";}}}function lvl2(mazeLvl){var id=null;var elem=document.getElementById(\"animate\");var pos=12;elem.style.left=pos+\"%\";clearInterval(id);id=setInterval(frame,50);function frame(){if(pos===50){clearInterval(id);console.log(mazeLvl);if(mazeLvl>2){setTimeout(lvl3(mazeLvl),2);}}else{pos++;elem.style.top=pos+\"%\";}}}function lvl3(mazeLvl){var id=null;var elem=document.getElementById(\"animate\");var posT=50;var posL=12;clearInterval(id);id=setInterval(frame,50);function frame(){if(posL===30){clearInterval(id);if(mazeLvl>3){setTimeout(lvl4(mazeLvl),2);}}else{posT++;posL++;elem.style.top=posT+\"%\";elem.style.left=posL+\"%\";}}}function lvl4(mazeLvl){var id=null;var elem=document.getElementById(\"animate\");var posT=68;var posL=30;clearInterval(id);id=setInterval(frame,50);function frame(){if(posL===50){clearInterval(id);if(mazeLvl>4){setTimeout(lvl5(mazeLvl),2);}}else{posT-=3;posL++;elem.style.top=posT+\"%\";elem.style.left=posL+\"%\";}}}function lvl5(mazeLvl){var id=null;var elem=document.getElementById(\"animate\");var posT=8;var posL=50;elem.style.left=posL+\"%\";clearInterval(id);id=setInterval(frame,50);function frame(){if(posT===60){clearInterval(id);if(mazeLvl>5){setTimeout(lvl6(mazeLvl),2);}}else{posT++;posL++;elem.style.top=posT+\"%\";}}}function lvl6(mazeLvl){var id=null;var elem=document.getElementById(\"animate\");var posT=60;var posL=50;elem.style.top=posT+\"%\";elem.style.left=posL+\"%\";clearInterval(id);id=setInterval(frame,50);function frame(){if(posT===10){clearInterval(id);if(mazeLvl>6){setTimeout(lvl7(mazeLvl),2);}}else{posT-=2;posL++;elem.style.top=posT+\"%\";elem.style.left=posL+\"%\";}}}function lvl7(mazeLvl){var id=null;var elem=document.getElementById(\"animate\");var posT=10;var posL=75;elem.style.top=posT+\"%\";elem.style.left=posL+\"%\";clearInterval(id);id=setInterval(frame,50);function frame(){if(posT===50){clearInterval(id);if(mazeLvl>7){setTimeout(lvl8(mazeLvl),2);}}else{posT++;elem.style.top=posT+\"%\";}}}function lvl8(){var id=null;var elem=document.getElementById(\"animate\");var posT=50;var posL=75;elem.style.top=posT+\"%\";elem.style.left=posL+\"%\";clearInterval(id);id=setInterval(frame,50);function frame(){if(posL===85){clearInterval(id);}else{posT+=2;posL++;elem.style.top=posT+\"%\";elem.style.left=posL+\"%\";}}}};_this.isShowPopup=function(status,levels){if(parseInt(_this.state.maze)>=levels){_this.setState({showModalPopup:false});window.alert(\"Level Already completed!\");}else if(status===false){_this.setState({showModalPopup:status});console.log(\"CLOSED\");}else{_this.setState({showModalPopup:status});_this.setState({level:levels});axios.get(\"https://ades-ca1-project.herokuapp.com/api/maze/\".concat(levels)).then(function(res){_this.setState({points:res.data[0].points});}).catch(console.error('error'));}};_this.handleNewLevel=function(status){if(status===true){_this.mazeAnimation(true);console.log(\"IT REACHED thIS\");}};_this.state={showModalPopup:false,isNewLevel:false,level:0,points:0,maze:0,currentDate:'',setCurrentDate:'',uid:'',id:0};return _this;}_createClass(MapOfMaze,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;auth.onAuthStateChanged(function(user){if(user){console.log(\"User is Signed IN \");_this2.setState({uid:user.uid});var config={headers:{'content-type':'application/json'}};axios.get(\"https://ades-ca1-project.herokuapp.com/api/userType/\"+_this2.state.uid,config).then(function(res){if(res.data.type===1){_this2.setState({id:res.data.studentID});// area to put your axios with the student id\n//call maze animation\n_this2.mazeAnimation(false);}else if(res.data.type===2){window.location.replace('https://ades-ca1-project.herokuapp.com/quizment/teacherDashboard');}else{window.location.replace('https://ades-ca1-project.herokuapp.com/quizment');}}).catch(console.error('error'));}else{console.log(\"THERE IS NO USER\");signOut(auth);window.location.replace('https://ades-ca1-project.herokuapp.com/quizment');}});var queryString=window.location.search;console.log(queryString+\"QUERY STRING\");var todayDate=moment().format('DD/MM/YYYY, hh:mm a');var colours=[['#ffc7ae','#f6b18a','#fc82b2'],['#4C669F','#37528d','#101d42'],['#fffbb6','#fffbb6','#ffd68a'],['#fffbc6','#b0e8ff'],['#dff4ff','#9cdbff']];var minTimer=moment(todayDate.slice(12,20),'h:mm a').diff(moment().startOf('day'),'minutes');var gradientColour;var elem=document.getElementById(\"container\");//setting background colour according to time\nif(minTimer>=1170){gradientColour=colours[1];//works\nelem.style.background=\"linear-gradient(\"+gradientColour+\")\";}else if(minTimer>=1110){gradientColour=colours[0];elem.style.background=\"linear-gradient(\"+gradientColour+\")\";}else if(minTimer>=660){gradientColour=colours[4];//works\nelem.style.background=\"linear-gradient(\"+gradientColour+\")\";}else if(minTimer>=480){gradientColour=colours[3];//works\nelem.style.background=\"linear-gradient(\"+gradientColour+\")\";}else if(minTimer>=410){gradientColour=colours[2];elem.style.background=\"linear-gradient(\"+gradientColour+\")\";}else{gradientColour=colours[1];//works\nelem.style.background=\"linear-gradient(\"+gradientColour+\")\";}}// componentDidUpdate(prevProps, prevState) {\n//   if (prevState.isNewLevel !== this.state.isNewLevel && prevState.isNewLevel === false && this.state.isNewLevel === true) {\n//     //THERE IS A CHANGE\n//     this.mazeAnimation(true);\n//   }\n// }\n//enabling the clouds\n},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/_jsxs(\"div\",{id:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bgclouds\"}),/*#__PURE__*/_jsxs(\"div\",{id:\"maze\",children:[/*#__PURE__*/_jsx(\"p\",{id:\"title\",children:\"Map Of Maze\"}),/*#__PURE__*/_jsx(\"div\",{id:\"cloud1\",className:\"cloud\",onClick:function onClick(){return _this3.isShowPopup(true,1);},children:/*#__PURE__*/_jsx(\"img\",{id:\"cloud1img\",alt:\"\",src:cloud1})}),/*#__PURE__*/_jsx(\"div\",{id:\"cloud2\",className:\"cloud\",onClick:function onClick(){return _this3.isShowPopup(true,2);},children:/*#__PURE__*/_jsx(\"img\",{id:\"cloud2img\",alt:\"\",src:cloud2})}),/*#__PURE__*/_jsx(\"div\",{id:\"cloud3\",className:\"cloud\",onClick:function onClick(){return _this3.isShowPopup(true,3);},children:/*#__PURE__*/_jsx(\"img\",{id:\"cloud3img\",alt:\"\",src:cloud3})}),/*#__PURE__*/_jsx(\"div\",{id:\"cloud4\",className:\"cloud\",onClick:function onClick(){return _this3.isShowPopup(true,4);},children:/*#__PURE__*/_jsx(\"img\",{id:\"cloud4img\",alt:\"\",src:cloud4})}),/*#__PURE__*/_jsx(\"div\",{id:\"cloud5\",className:\"cloud\",onClick:function onClick(){return _this3.isShowPopup(true,5);},children:/*#__PURE__*/_jsx(\"img\",{id:\"cloud5img\",alt:\"\",src:cloud5})}),/*#__PURE__*/_jsx(\"div\",{id:\"cloud6\",className:\"cloud\",onClick:function onClick(){return _this3.isShowPopup(true,6);},children:/*#__PURE__*/_jsx(\"img\",{id:\"cloud6img\",alt:\"\",src:cloud6})}),/*#__PURE__*/_jsx(\"div\",{id:\"cloud7\",className:\"cloud\",onClick:function onClick(){return _this3.isShowPopup(true,7);},children:/*#__PURE__*/_jsx(\"img\",{id:\"cloud7img\",alt:\"\",src:cloud7})}),/*#__PURE__*/_jsx(\"div\",{id:\"cloud8\",className:\"cloud\",onClick:function onClick(){return _this3.isShowPopup(true,8);},children:/*#__PURE__*/_jsx(\"img\",{id:\"cloud8img\",alt:\"\",src:cloud8})}),/*#__PURE__*/_jsx(\"div\",{id:\"animate\",children:/*#__PURE__*/_jsx(\"img\",{id:\"imgAnimate\",className:\"bounce\",alt:\"\",src:wisp})}),/*#__PURE__*/_jsxs(\"div\",{id:\"levelDisplay\",children:[/*#__PURE__*/_jsx(\"p\",{id:\"level\",children:this.state.maze}),/*#__PURE__*/_jsx(\"p\",{id:\"staticLevel\",children:\"Level\"})]})]}),/*#__PURE__*/_jsx(MazePopup,{showModalPopup:this.state.showModalPopup,onPopupClose:this.isShowPopup,level:this.state.level,point:this.state.points,onNewLevel:this.handleNewLevel,id:this.state.id})]});}}]);return MapOfMaze;}(React.Component);export{MapOfMaze as default};","map":{"version":3,"sources":["C:/Users/khadi/OneDrive/Documents/GitHub/ADES/frontEnd/src/components/MapOfMaze.js"],"names":["React","axios","wisp","cloud1","cloud2","cloud3","cloud4","cloud5","cloud6","cloud7","cloud8","MazePopup","moment","signOut","auth","MapOfMaze","ableMaze","mazeLvl","cloudLvl","parseInt","document","getElementById","style","filter","pointerEvents","studentLevel","callback","console","log","state","id","get","then","res","setState","maze","data","JSON","stringify","isNewLevel","catch","error","mazeAnimation","status","lvl1","updated","lvl2","lvl3","lvl4","lvl5","lvl6","lvl7","lvl8","elem","pos","clearInterval","setInterval","frame","setTimeout","top","left","posT","posL","isShowPopup","levels","showModalPopup","window","alert","level","points","handleNewLevel","currentDate","setCurrentDate","uid","onAuthStateChanged","user","config","headers","type","studentID","location","replace","queryString","search","todayDate","format","colours","minTimer","slice","diff","startOf","gradientColour","background","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport wisp from '../img/wisp.png';\r\nimport cloud1 from '../img/cloud1.png';\r\nimport cloud2 from '../img/cloud2.png';\r\nimport cloud3 from '../img/cloud3.png';\r\nimport cloud4 from '../img/cloud4.png';\r\nimport cloud5 from '../img/cloud5.png';\r\nimport cloud6 from '../img/cloud6.png';\r\nimport cloud7 from '../img/cloud7.png';\r\nimport cloud8 from '../img/cloud8.png';\r\nimport MazePopup from './MazePopup';\r\nimport '../css/maze.css';\r\nimport moment from 'moment';\r\nimport { signOut } from \"firebase/auth\";\r\nimport { auth } from '../firebase.js';\r\n\r\nexport default class MapOfMaze extends React.Component {\r\n\r\n\r\n\r\n  constructor() {\r\n\r\n    super();\r\n    this.state = {\r\n      showModalPopup: false,\r\n      isNewLevel: false,\r\n      level: 0,\r\n      points: 0,\r\n      maze: 0,\r\n      currentDate: '',\r\n      setCurrentDate: '',\r\n      uid: '',\r\n      id: 0\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    auth.onAuthStateChanged((user) => {\r\n      if (user) {\r\n        console.log(\"User is Signed IN \");\r\n        this.setState({ uid: user.uid });\r\n        const config = {\r\n          headers: {\r\n            'content-type': 'application/json'\r\n          }\r\n        }\r\n\r\n        axios.get(`https://ades-ca1-project.herokuapp.com/api/userType/` + this.state.uid, config)\r\n          .then(res => {\r\n            if (res.data.type === 1) {\r\n              this.setState({ id: res.data.studentID })\r\n              // area to put your axios with the student id\r\n              //call maze animation\r\n              this.mazeAnimation(false)\r\n            } else if (res.data.type === 2) {\r\n              window.location.replace('https://ades-ca1-project.herokuapp.com/quizment/teacherDashboard');\r\n            } else {\r\n              window.location.replace('https://ades-ca1-project.herokuapp.com/quizment');\r\n            }\r\n          }).catch(console.error('error'))\r\n      } else {\r\n        console.log(\"THERE IS NO USER\");\r\n        signOut(auth);\r\n        window.location.replace('https://ades-ca1-project.herokuapp.com/quizment');\r\n      }\r\n    });\r\n\r\n\r\n\r\n\r\n    const queryString = window.location.search;\r\n    console.log(queryString + \"QUERY STRING\");\r\n    let todayDate = moment().format('DD/MM/YYYY, hh:mm a');\r\n\r\n    const colours = [\r\n      ['#ffc7ae', '#f6b18a', '#fc82b2'],\r\n      ['#4C669F', '#37528d', '#101d42'],\r\n      ['#fffbb6', '#fffbb6', '#ffd68a'],\r\n      ['#fffbc6', '#b0e8ff'],\r\n      ['#dff4ff', '#9cdbff'],\r\n    ];\r\n\r\n\r\n    var minTimer = moment(todayDate.slice(12, 20), 'h:mm a').diff(moment().startOf('day'), 'minutes');\r\n    var gradientColour;\r\n    const elem = document.getElementById(\"container\");\r\n\r\n    //setting background colour according to time\r\n    if (minTimer >= 1170) {\r\n      gradientColour = colours[1]; //works\r\n      elem.style.background = \"linear-gradient(\" + gradientColour + \")\"\r\n    } else if (minTimer >= 1110) {\r\n      gradientColour = colours[0];\r\n      elem.style.background = \"linear-gradient(\" + gradientColour + \")\"\r\n    } else if (minTimer >= 660) {\r\n      gradientColour = colours[4]; //works\r\n      elem.style.background = \"linear-gradient(\" + gradientColour + \")\"\r\n    } else if (minTimer >= 480) {\r\n      gradientColour = colours[3]; //works\r\n      elem.style.background = \"linear-gradient(\" + gradientColour + \")\"\r\n    } else if (minTimer >= 410) {\r\n      gradientColour = colours[2];\r\n      elem.style.background = \"linear-gradient(\" + gradientColour + \")\"\r\n    } else {\r\n      gradientColour = colours[1]; //works\r\n      elem.style.background = \"linear-gradient(\" + gradientColour + \")\"\r\n    }\r\n\r\n  }\r\n\r\n  // componentDidUpdate(prevProps, prevState) {\r\n\r\n  //   if (prevState.isNewLevel !== this.state.isNewLevel && prevState.isNewLevel === false && this.state.isNewLevel === true) {\r\n  //     //THERE IS A CHANGE\r\n  //     this.mazeAnimation(true);\r\n  //   }\r\n  // }\r\n\r\n  //enabling the clouds\r\n  ableMaze = (mazeLvl) => {\r\n\r\n    var cloudLvl = parseInt(mazeLvl);\r\n\r\n    if ((cloudLvl > 0)) {\r\n      document.getElementById(\"cloud2img\").style.filter = \"unset\";\r\n      document.getElementById('cloud2').style.pointerEvents = 'unset';\r\n    }\r\n    if ((cloudLvl > 1)) {\r\n      document.getElementById(\"cloud3img\").style.filter = \"unset\";\r\n      document.getElementById('cloud3').style.pointerEvents = 'unset';\r\n    }\r\n    if ((cloudLvl > 2)) {\r\n      document.getElementById(\"cloud4img\").style.filter = \"unset\";\r\n      document.getElementById('cloud4').style.pointerEvents = 'unset';\r\n    }\r\n    if ((cloudLvl > 3)) {\r\n      document.getElementById(\"cloud5img\").style.filter = \"unset\";\r\n      document.getElementById('cloud5').style.pointerEvents = 'unset';\r\n    }\r\n    if ((cloudLvl > 4)) {\r\n      document.getElementById(\"cloud6img\").style.filter = \"unset\";\r\n      document.getElementById('cloud6').style.pointerEvents = 'unset';\r\n    }\r\n    if ((cloudLvl > 5)) {\r\n      document.getElementById(\"cloud7img\").style.filter = \"unset\";\r\n      document.getElementById('cloud7').style.pointerEvents = 'unset';\r\n    }\r\n    if ((cloudLvl > 6)) {\r\n      document.getElementById(\"cloud8img\").style.filter = \"unset\";\r\n      document.getElementById('cloud8').style.pointerEvents = 'unset';\r\n    }\r\n  }\r\n\r\n  //to get the students current Lvl\r\n  studentLevel = (callback) => {\r\nconsole.log(this.state.id + \"STUDENTELVE AND WHY IT HA CRASH\")\r\n    axios.get(`https://ades-ca1-project.herokuapp.com/api/mapOfMaze/` + this.state.id)\r\n      .then(res => {\r\n\r\n        this.setState({ maze: res.data[0].mazeLvl });\r\n\r\n        var mazeLvl = JSON.stringify(this.state.maze);\r\n        this.ableMaze(mazeLvl);\r\n\r\n        this.setState({ isNewLevel: false })\r\n        callback(mazeLvl);\r\n      }\r\n\r\n      ).catch(console.error('error'))\r\n  }\r\n\r\n\r\n  mazeAnimation = (status) => {\r\n\r\n    if (status === false) {\r\n      this.studentLevel(function (mazeLvl) {\r\n        if (mazeLvl > 0) {\r\n          lvl1(mazeLvl);\r\n\r\n        } else {\r\n\r\n        }\r\n      });\r\n\r\n    } else {\r\n      this.studentLevel(function (mazeLvl) {\r\n\r\n        var updated = parseInt(mazeLvl);\r\nconsole.log(\"IT CRASHED HERE AND THIS IS THE NEW LEVLE\" + updated)\r\n        if (updated === 1) {\r\n\r\n          lvl1(mazeLvl);\r\n        } else if (updated === 2) {\r\n\r\n          lvl2(mazeLvl);\r\n        }\r\n        else if (updated === 3) {\r\n          lvl3(mazeLvl);\r\n\r\n        }\r\n        else if (updated === 4) {\r\n          lvl4(mazeLvl);\r\n\r\n        }\r\n        else if (updated === 5) {\r\n          lvl5(mazeLvl);\r\n\r\n        }\r\n        else if (updated === 6) {\r\n\r\n          lvl6(mazeLvl);\r\n        }\r\n        else if (updated === 7) {\r\n\r\n          lvl7(mazeLvl);\r\n        }\r\n        else if (updated === 8) {\r\n\r\n          lvl8(mazeLvl);\r\n        }\r\n\r\n      });\r\n\r\n    }\r\n\r\n    function lvl1(mazeLvl) {\r\n      let id = null;\r\n      const elem = document.getElementById(\"animate\");\r\n      let pos = 0;\r\n      clearInterval(id);\r\n      id = setInterval(frame, 50);\r\n      function frame() {\r\n        if (pos === 12) {\r\n          clearInterval(id);\r\n          if (mazeLvl > 1) {\r\n            setTimeout(lvl2(mazeLvl), 2);\r\n          }\r\n        } else {\r\n          pos++;\r\n          elem.style.top = pos + \"%\";\r\n          elem.style.left = pos + \"%\";\r\n        }\r\n      }\r\n    }\r\n    function lvl2(mazeLvl) {\r\n      let id = null;\r\n      const elem = document.getElementById(\"animate\");\r\n      let pos = 12;\r\n      elem.style.left = pos + \"%\";\r\n      clearInterval(id);\r\n      id = setInterval(frame, 50);\r\n      function frame() {\r\n        if (pos === 50) {\r\n          clearInterval(id);\r\n          console.log(mazeLvl);\r\n          if (mazeLvl > 2) {\r\n            setTimeout(lvl3(mazeLvl), 2);\r\n          }\r\n        } else {\r\n          pos++;\r\n          elem.style.top = pos + \"%\";\r\n\r\n        }\r\n      }\r\n    }\r\n\r\n    function lvl3(mazeLvl) {\r\n      let id = null;\r\n      const elem = document.getElementById(\"animate\");\r\n      let posT = 50;\r\n      let posL = 12;\r\n      clearInterval(id);\r\n      id = setInterval(frame, 50);\r\n      function frame() {\r\n        if (posL === 30) {\r\n          clearInterval(id);\r\n          if (mazeLvl > 3) {\r\n            setTimeout(lvl4(mazeLvl), 2);\r\n          }\r\n        } else {\r\n          posT++;\r\n          posL++;\r\n          elem.style.top = posT + \"%\";\r\n          elem.style.left = posL + \"%\";\r\n\r\n        }\r\n      }\r\n    }\r\n\r\n    function lvl4(mazeLvl) {\r\n      let id = null;\r\n      const elem = document.getElementById(\"animate\");\r\n      let posT = 68;\r\n      let posL = 30;\r\n      clearInterval(id);\r\n      id = setInterval(frame, 50);\r\n      function frame() {\r\n        if (posL === 50) {\r\n          clearInterval(id);\r\n          if (mazeLvl > 4) {\r\n            setTimeout(lvl5(mazeLvl), 2);\r\n          }\r\n        } else {\r\n          posT -= 3\r\n          posL++;\r\n          elem.style.top = posT + \"%\";\r\n          elem.style.left = posL + \"%\";\r\n        }\r\n      }\r\n    }\r\n\r\n    function lvl5(mazeLvl) {\r\n      let id = null;\r\n      const elem = document.getElementById(\"animate\");\r\n      let posT = 8;\r\n      let posL = 50;\r\n      elem.style.left = posL + \"%\";\r\n      clearInterval(id);\r\n      id = setInterval(frame, 50);\r\n      function frame() {\r\n        if (posT === 60) {\r\n          clearInterval(id);\r\n          if (mazeLvl > 5) {\r\n            setTimeout(lvl6(mazeLvl), 2);\r\n          }\r\n        } else {\r\n          posT++\r\n          posL++;\r\n          elem.style.top = posT + \"%\";\r\n        }\r\n      }\r\n    }\r\n\r\n    function lvl6(mazeLvl) {\r\n      let id = null;\r\n      const elem = document.getElementById(\"animate\");\r\n      let posT = 60;\r\n      let posL = 50;\r\n      elem.style.top = posT + \"%\";\r\n      elem.style.left = posL + \"%\";\r\n      clearInterval(id);\r\n      id = setInterval(frame, 50);\r\n      function frame() {\r\n        if (posT === 10) {\r\n          clearInterval(id);\r\n          if (mazeLvl > 6) {\r\n            setTimeout(lvl7(mazeLvl), 2);\r\n          }\r\n        } else {\r\n          posT -= 2\r\n          posL++;\r\n          elem.style.top = posT + \"%\";\r\n          elem.style.left = posL + \"%\";\r\n\r\n        }\r\n      }\r\n    }\r\n\r\n    function lvl7(mazeLvl) {\r\n      let id = null;\r\n      const elem = document.getElementById(\"animate\");\r\n      let posT = 10;\r\n      let posL = 75;\r\n      elem.style.top = posT + \"%\";\r\n      elem.style.left = posL + \"%\";\r\n      clearInterval(id);\r\n      id = setInterval(frame, 50);\r\n      function frame() {\r\n        if (posT === 50) {\r\n          clearInterval(id);\r\n          if (mazeLvl > 7) {\r\n            setTimeout(lvl8(mazeLvl), 2);\r\n          }\r\n        } else {\r\n          posT++;\r\n          elem.style.top = posT + \"%\";\r\n\r\n        }\r\n      }\r\n    }\r\n\r\n    function lvl8() {\r\n      let id = null;\r\n      const elem = document.getElementById(\"animate\");\r\n      let posT = 50;\r\n      let posL = 75;\r\n      elem.style.top = posT + \"%\";\r\n      elem.style.left = posL + \"%\";\r\n\r\n      clearInterval(id);\r\n      id = setInterval(frame, 50);\r\n      function frame() {\r\n        if (posL === 85) {\r\n          clearInterval(id);\r\n\r\n        } else {\r\n          posT += 2;\r\n          posL++;\r\n          elem.style.top = posT + \"%\";\r\n          elem.style.left = posL + \"%\";\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  isShowPopup = (status, levels) => {\r\n    if (parseInt(this.state.maze) >= levels) {\r\n      this.setState({ showModalPopup: false });\r\n      window.alert(\"Level Already completed!\")\r\n    }else if(status===false){\r\n      this.setState({ showModalPopup: status });\r\n      console.log(\"CLOSED\");\r\n    } else {\r\n      this.setState({ showModalPopup: status });\r\n\r\n      this.setState({ level: levels });\r\n\r\n      axios.get(`https://ades-ca1-project.herokuapp.com/api/maze/${levels}`)\r\n        .then(res => {\r\n\r\n          this.setState({ points: res.data[0].points });\r\n        }).catch(console.error('error'))\r\n    }\r\n\r\n\r\n  };\r\n  handleNewLevel = (status) => {\r\n    if (status===true){\r\n       this.mazeAnimation(true);\r\n       console.log(\"IT REACHED thIS\")\r\n    }\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n\r\n      <div id=\"container\">\r\n        <div className=\"bgclouds\"></div>\r\n\r\n        {/* add exit button here! */}\r\n        {/* <p id=\"exit\" >x</p> */}\r\n        <div id=\"maze\">\r\n          <p id=\"title\">Map Of Maze</p>\r\n          <div id='cloud1' className=\"cloud\" onClick={() => this.isShowPopup(true, 1)}>\r\n\r\n            <img id='cloud1img' alt=\"\" src={cloud1} />\r\n          </div>\r\n          <div id='cloud2' className=\"cloud\" onClick={() => this.isShowPopup(true, 2)}  >\r\n            <img id='cloud2img' alt=\"\" src={cloud2} />\r\n          </div>\r\n          <div id='cloud3' className=\"cloud\" onClick={() => this.isShowPopup(true, 3)} >\r\n            <img id='cloud3img' alt=\"\" src={cloud3} />\r\n          </div>\r\n          <div id='cloud4' className=\"cloud\" onClick={() => this.isShowPopup(true, 4)} >\r\n            <img id='cloud4img' alt=\"\" src={cloud4} />\r\n          </div>\r\n          <div id='cloud5' className=\"cloud\" onClick={() => this.isShowPopup(true, 5)}>\r\n            <img id='cloud5img' alt=\"\" src={cloud5} />\r\n          </div>\r\n          <div id='cloud6' className=\"cloud\" onClick={() => this.isShowPopup(true, 6)}>\r\n            <img id='cloud6img' alt=\"\" src={cloud6} />\r\n          </div>\r\n          <div id='cloud7' className=\"cloud\" onClick={() => this.isShowPopup(true, 7)} >\r\n            <img id='cloud7img' alt=\"\" src={cloud7} />\r\n          </div>\r\n          <div id='cloud8' className=\"cloud\" onClick={() => this.isShowPopup(true, 8)} >\r\n            <img id='cloud8img' alt=\"\" src={cloud8} />\r\n          </div>\r\n          {/* the character! */}\r\n          <div id=\"animate\">\r\n            <img id=\"imgAnimate\" className=\"bounce\" alt=\"\" src={wisp} />\r\n\r\n          </div>\r\n          <div id=\"levelDisplay\">\r\n            <p id=\"level\">{this.state.maze}</p>\r\n            <p id=\"staticLevel\">Level</p>\r\n          </div>\r\n        </div>\r\n        <MazePopup\r\n          showModalPopup={this.state.showModalPopup}\r\n          onPopupClose={this.isShowPopup}\r\n          level={this.state.level}\r\n          point={this.state.points}\r\n          onNewLevel={this.handleNewLevel}\r\n          id={this.state.id}>\r\n        </MazePopup>\r\n      </div>\r\n\r\n    )\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}