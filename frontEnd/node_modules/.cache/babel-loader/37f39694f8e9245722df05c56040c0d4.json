{"ast":null,"code":"import _classCallCheck from\"C:/Users/jw/OneDrive/Documents/GitHub/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/jw/OneDrive/Documents/GitHub/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/jw/OneDrive/Documents/GitHub/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/jw/OneDrive/Documents/GitHub/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import axios from'axios';import Button from'react-bootstrap/Button';import'../css/quiz.css';import QuizPopUp from'./QuizPopup';import{signOut}from\"firebase/auth\";import{auth}from'../firebase.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Quiz=/*#__PURE__*/function(_React$Component){_inherits(Quiz,_React$Component);var _super=_createSuper(Quiz);function Quiz(){var _this;_classCallCheck(this,Quiz);_this=_super.call(this);_this.handleClose=function(){var status=false;_this.setState({showModalPopup:status});};_this.handleButton=function(event){var status=true;_this.setState({showModalPopup:status});event.preventDefault();console.log(\"BUTTON CLICKED\");var quizID=event.target.getAttribute(\"data-index\");var totalMarks=event.target.getAttribute(\"data-mark\");var totalPoints=event.target.getAttribute(\"data-points\");_this.setState({quizID:quizID});console.log(quizID);console.log(totalMarks);console.log(totalPoints);console.log(\"HELLO\"+_this.state.id);var quiz={quizID:quizID,studentID:_this.state.id,pointsEarned:totalPoints,marksEarned:totalMarks};var studentUpdatePoint={studentID:_this.state.id,pointsEarned:totalPoints};var config={headers:{'content-type':'application/json'}};axios.post('https://ades-ca1-project.herokuapp.com/api/quizHistory',quiz,config).then(function(res){console.log(res);console.log(res.data);console.log(\"AXIOS POSTING\");// window.location.reload();\n});axios.put(\"https://ades-ca1-project.herokuapp.com/api/studentPoints\",studentUpdatePoint,config).then(function(res){console.log(\"HELLO WORK PLS\");console.log(res);console.log(res.data);console.log(\"AXIOS PUTTING\");window.alert(\"points awarded\");});};_this.state={showModalPopup:false,data:[],uid:'',id:0,quizID:0,totalMarks:0,totalPoints:0};return _this;}_createClass(Quiz,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;auth.onAuthStateChanged(function(user){if(user){console.log(\"User is Signed IN \");_this2.setState({uid:user.uid});var config={headers:{'content-type':'application/json'}};axios.get(\"https://ades-ca1-project.herokuapp.com/api/userType/\"+_this2.state.uid,config).then(function(res){//call maze animation\nif(res.data.type===1){_this2.setState({id:res.data.studentID});// area to put your axios with the student id\n}else if(res.data.type===2){window.location.replace('https://ades-ca1-project.herokuapp.com/quizment/teacherDashboard');}else{window.location.replace('https://ades-ca1-project.herokuapp.com/quizment');}});}else{console.log(\"THERE IS NO USER\");signOut(auth);window.location.replace('https://ades-ca1-project.herokuapp.com/quizment');}});axios.get(\"https://ades-ca1-project.herokuapp.com/api/quiz\").then(function(res){console.log(res.data.length);_this2.setState({data:res.data});console.log(res.data.length);_this2.setState({data:res.data});});}},{key:\"render\",value://NEED TO GET STUDENT ID!\n//   handleClose = () => {\n//     this.props.onPopupClose(false);\n// }\nfunction render(){var _this3=this;var data=this.state.data;// When the user clicks anywhere outside of the modal, close it\nreturn/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{id:\"users\",class:\"row\"}),/*#__PURE__*/_jsx(\"table\",{class:\"table\",children:data&&data.map(function(item){return/*#__PURE__*/_jsxs(\"tr\",{id:\"tableRow\",class:\"spaceUnder\",children:[/*#__PURE__*/_jsxs(\"td\",{className:\"quizTitle\",children:[\"Quiz \",item.quizID]}),/*#__PURE__*/_jsxs(\"td\",{className:\"marks\",children:[\"Total Marks: \",item.totalMarks]}),/*#__PURE__*/_jsxs(\"td\",{className:\"points\",children:[\"Total Points:\",item.totalPoints]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Button,{onClick:_this3.handleButton,\"data-index\":item.quizID,\"data-mark\":item.totalMarks,\"data-points\":item.totalPoints,type:\"submit\",id:\"myBtn\",children:\"Do Quiz!\"})})]},item.quizID);})}),/*#__PURE__*/_jsx(QuizPopUp,{showModalPopup:this.state.showModalPopup,onPopupClose:this.handleClose,id:this.state.id,quizID:this.state.quizID})]});}}]);return Quiz;}(React.Component);export{Quiz as default};","map":{"version":3,"sources":["C:/Users/jw/OneDrive/Documents/GitHub/ADES/frontEnd/src/components/Quiz.js"],"names":["React","axios","Button","QuizPopUp","signOut","auth","Quiz","handleClose","status","setState","showModalPopup","handleButton","event","preventDefault","console","log","quizID","target","getAttribute","totalMarks","totalPoints","state","id","quiz","studentID","pointsEarned","marksEarned","studentUpdatePoint","config","headers","post","then","res","data","put","window","alert","uid","onAuthStateChanged","user","get","type","location","replace","length","map","item","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport Button from 'react-bootstrap/Button';\r\nimport '../css/quiz.css';\r\nimport QuizPopUp from './QuizPopup';\r\nimport { signOut } from \"firebase/auth\";\r\nimport { auth } from '../firebase.js';\r\nexport default class Quiz extends React.Component {\r\n\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            showModalPopup: false,\r\n            data: [],\r\n            uid: '',\r\n            id: 0,\r\n            quizID: 0,\r\n            totalMarks:0,\r\n            totalPoints:0\r\n\r\n\r\n\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        auth.onAuthStateChanged((user) => {\r\n            if (user) {\r\n                console.log(\"User is Signed IN \");\r\n                this.setState({ uid: user.uid });\r\n                const config = {\r\n                    headers: {\r\n                        'content-type': 'application/json'\r\n                    }\r\n                }\r\n                axios.get(`https://ades-ca1-project.herokuapp.com/api/userType/` + this.state.uid, config)\r\n                    .then(res => {//call maze animation\r\n                       \r\n                        if (res.data.type === 1) {\r\n                            this.setState({ id: res.data.studentID })\r\n                            // area to put your axios with the student id\r\n\r\n                        } else if (res.data.type === 2) {\r\n                            window.location.replace('https://ades-ca1-project.herokuapp.com/quizment/teacherDashboard');\r\n                        } else {\r\n                            window.location.replace('https://ades-ca1-project.herokuapp.com/quizment');\r\n                        }\r\n                    })\r\n            } else {\r\n                console.log(\"THERE IS NO USER\");\r\n                signOut(auth);\r\n                window.location.replace('https://ades-ca1-project.herokuapp.com/quizment');\r\n            }\r\n        });\r\n        axios.get(`https://ades-ca1-project.herokuapp.com/api/quiz`)\r\n            .then(res => {\r\n                console.log(res.data.length);\r\n                this.setState({ data: res.data });\r\n\r\n                console.log(res.data.length);\r\n\r\n                this.setState({ data: res.data });\r\n\r\n\r\n            });\r\n    }\r\n\r\n    handleClose = () => {\r\n        let status = false\r\n        this.setState({ showModalPopup: status });\r\n    }\r\n\r\n    handleButton = event => {\r\n        let status = true\r\n        this.setState({ showModalPopup: status });\r\n        event.preventDefault();\r\n        console.log(\"BUTTON CLICKED\");\r\n        const quizID = event.target.getAttribute(\"data-index\");\r\n        const totalMarks = event.target.getAttribute(\"data-mark\");\r\n        const totalPoints = event.target.getAttribute(\"data-points\");\r\n        this.setState({quizID : quizID});\r\n    \r\n        console.log(quizID);\r\n        console.log(totalMarks);\r\n        console.log(totalPoints);\r\n        console.log(\"HELLO\" + this.state.id)\r\n\r\n        const quiz = {\r\n            quizID: quizID,\r\n            studentID: this.state.id,\r\n            pointsEarned: totalPoints,\r\n            marksEarned: totalMarks\r\n        };\r\n        const studentUpdatePoint = {\r\n            studentID: this.state.id,\r\n            pointsEarned: totalPoints\r\n        }\r\n\r\n        const config = {\r\n            headers: {\r\n                'content-type': 'application/json'\r\n            }\r\n        }\r\n        axios.post('https://ades-ca1-project.herokuapp.com/api/quizHistory', quiz, config)\r\n            .then(res => {\r\n                console.log(res);\r\n                console.log(res.data);\r\n                console.log(\"AXIOS POSTING\")\r\n                // window.location.reload();\r\n            })\r\n        axios.put(`https://ades-ca1-project.herokuapp.com/api/studentPoints`, studentUpdatePoint, config)\r\n            .then(res => {\r\n                console.log(\"HELLO WORK PLS\");\r\n                console.log(res);\r\n                console.log(res.data);\r\n                console.log(\"AXIOS PUTTING\")\r\n                window.alert(\"points awarded\");\r\n            })\r\n    }\r\n\r\n    //NEED TO GET STUDENT ID!\r\n\r\n    //   handleClose = () => {\r\n    //     this.props.onPopupClose(false);\r\n    // }\r\n\r\n    render() {\r\n        const data = this.state.data;\r\n        // When the user clicks anywhere outside of the modal, close it\r\n        return (\r\n            <div>\r\n                <div id=\"users\" class=\"row\">\r\n                </div>\r\n                {/* <div>\r\n          <div id=\"myModal\" class=\"modal\">\r\n            <div class=\"modal-content\">\r\n              <span class=\"close\">&times;</span>\r\n              <p>QUIZ completed!</p>\r\n            </div>\r\n          </div>\r\n        </div> */}\r\n                <table class=\"table\">\r\n\r\n                    {data && data.map(item =>\r\n                        <tr key={item.quizID} id='tableRow' class=\"spaceUnder\">\r\n                            <td className=\"quizTitle\">Quiz {item.quizID}</td>\r\n                            <td className=\"marks\">Total Marks: {item.totalMarks}</td>\r\n                            <td className=\"points\">Total Points:{item.totalPoints}</td>\r\n\r\n                            <td>\r\n                                <Button onClick={this.handleButton} data-index={item.quizID} data-mark={item.totalMarks} data-points={item.totalPoints} type=\"submit\" id=\"myBtn\">Do Quiz!</Button>\r\n\r\n                            </td>\r\n                        </tr>\r\n                    )}\r\n                </table>\r\n                <QuizPopUp\r\n                    showModalPopup={this.state.showModalPopup}\r\n                    onPopupClose={this.handleClose}\r\n                    id={this.state.id}\r\n                    quizID={this.state.quizID}\r\n                    \r\n                ></QuizPopUp>\r\n            </div>\r\n        )\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}