{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\khadi\\\\OneDrive\\\\Documents\\\\GitHub\\\\ADES\\\\frontEnd\\\\src\\\\components\\\\Quiz.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport Button from 'react-bootstrap/Button';\nimport '../css/quiz.css';\nimport ModalPopup from './QuizPopUp';\nimport { signOut } from \"firebase/auth\";\nimport { auth } from '../firebase.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Quiz extends React.Component {\n  // state = {\n  //   ,\n  // }\n  constructor() {\n    super();\n\n    this.handleClose = () => {\n      let status = false;\n      this.setState({\n        showModalPopup: status\n      });\n    };\n\n    this.handleButton = event => {\n      let status = true;\n      this.setState({\n        showModalPopup: status\n      });\n      event.preventDefault();\n      console.log(\"BUTTON CLICKED\");\n      const quizID = event.target.getAttribute(\"data-index\");\n      const totalMarks = event.target.getAttribute(\"data-mark\");\n      const totalPoints = event.target.getAttribute(\"data-points\"); // console.log(quizID);\n      // console.log(totalMarks);\n      // console.log(totalPoints);\n\n      const quiz = {\n        quizID: quizID,\n        studentID: '1',\n        pointsEarned: totalPoints,\n        marksEarned: totalMarks\n      };\n      const studentUpdatePoint = {\n        pointsEarned: totalPoints,\n        studentID: '1'\n      };\n      const config = {\n        headers: {\n          'content-type': 'application/json'\n        }\n      };\n      axios.post('http://localhost:8081/quiz', quiz, config).then(res => {\n        console.log(res);\n        console.log(res.data);\n        console.log(\"AXIOS POSTING\"); // window.location.reload();\n      });\n      axios.put(`http://localhost:8081/studentPoints`, studentUpdatePoint, config).then(res => {\n        console.log(res);\n        console.log(res.data);\n        console.log(\"AXIOS PUTTING\");\n      });\n    };\n\n    this.state = {\n      showModalPopup: false,\n      data: []\n    };\n  }\n\n  componentDidMount() {\n    auth.onAuthStateChanged(user => {\n      if (user) {\n        console.log(\"User is Signed IN \");\n        this.setState({\n          uid: user.uid\n        });\n        const config = {\n          headers: {\n            'content-type': 'application/json'\n          }\n        };\n        axios.get(`https://ades-ca1-project.herokuapp.com/api/userType/` + this.state.uid, config).then(res => {\n          //call maze animation\n          this.mazeAnimation(false);\n\n          if (res.data.type === 1) {\n            this.setState({\n              id: res.data.studentID\n            }); // area to put your axios with the student id\n          } else if (res.data.type === 2) {\n            window.location.replace('https://ades-ca1-project.herokuapp.com/quizment/teacherDashboard');\n          } else {\n            window.location.replace('https://ades-ca1-project.herokuapp.com/quizment');\n          }\n        });\n      } else {\n        console.log(\"THERE IS NO USER\");\n        signOut(auth);\n        window.location.replace('https://ades-ca1-project.herokuapp.com/quizment');\n      }\n    });\n    axios.get(`http://localhost:8081/quiz`).then(res => {\n      console.log(res.data.length);\n      this.setState({\n        data: res.data\n      });\n      console.log(res.data.length);\n      this.setState({\n        data: res.data\n      });\n    });\n  }\n\n  //NEED TO GET STUDENT ID!\n  //   handleClose = () => {\n  //     this.props.onPopupClose(false);\n  // }\n  render() {\n    const data = this.state.data; // When the user clicks anywhere outside of the modal, close it\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"users\",\n        class: \"row\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        class: \"table\",\n        children: data && data.map(item => /*#__PURE__*/_jsxDEV(\"tr\", {\n          id: \"tableRow\",\n          class: \"spaceUnder\",\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"quizTitle\",\n            children: [\"Quiz \", item.quizID]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"marks\",\n            children: [\"Total Marks: \", item.totalMarks]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"points\",\n            children: [\"Total Points:\", item.totalPoints]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              onClick: this.handleButton,\n              \"data-index\": item.quizID,\n              \"data-mark\": item.totalMarks,\n              \"data-points\": item.totalPoints,\n              type: \"submit\",\n              id: \"myBtn\",\n              children: \"Do Quiz!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 15\n          }, this)]\n        }, item.quizID, true, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ModalPopup, {\n        showModalPopup: this.state.showModalPopup,\n        onPopupClose: this.handleClose\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/khadi/OneDrive/Documents/GitHub/ADES/frontEnd/src/components/Quiz.js"],"names":["React","axios","Button","ModalPopup","signOut","auth","Quiz","Component","constructor","handleClose","status","setState","showModalPopup","handleButton","event","preventDefault","console","log","quizID","target","getAttribute","totalMarks","totalPoints","quiz","studentID","pointsEarned","marksEarned","studentUpdatePoint","config","headers","post","then","res","data","put","state","componentDidMount","onAuthStateChanged","user","uid","get","mazeAnimation","type","id","window","location","replace","length","render","map","item"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport Button from 'react-bootstrap/Button';\r\nimport '../css/quiz.css';\r\nimport ModalPopup from './QuizPopUp';\r\nimport { signOut } from \"firebase/auth\";\r\nimport { auth } from '../firebase.js';\r\nexport default class Quiz extends React.Component {\r\n  // state = {\r\n  //   ,\r\n\r\n  // }\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      showModalPopup: false,\r\n      data: [],\r\n\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    auth.onAuthStateChanged((user) => {\r\n      if (user) {\r\n        console.log(\"User is Signed IN \");\r\n        this.setState({ uid: user.uid });\r\n        const config = {\r\n          headers: {\r\n            'content-type': 'application/json'\r\n          }\r\n        }\r\n\r\n        axios.get(`https://ades-ca1-project.herokuapp.com/api/userType/` + this.state.uid, config)\r\n          .then(res => {//call maze animation\r\n            this.mazeAnimation(false)\r\n            if (res.data.type === 1) {\r\n              this.setState({ id: res.data.studentID })\r\n              // area to put your axios with the student id\r\n\r\n            } else if (res.data.type === 2) {\r\n              window.location.replace('https://ades-ca1-project.herokuapp.com/quizment/teacherDashboard');\r\n            } else {\r\n              window.location.replace('https://ades-ca1-project.herokuapp.com/quizment');\r\n            }\r\n          })\r\n      } else {\r\n        console.log(\"THERE IS NO USER\");\r\n        signOut(auth);\r\n        window.location.replace('https://ades-ca1-project.herokuapp.com/quizment');\r\n      }\r\n    });\r\n    axios.get(`http://localhost:8081/quiz`)\r\n      .then(res => {\r\n        console.log(res.data.length);\r\n        this.setState({ data: res.data });\r\n\r\n        console.log(res.data.length);\r\n\r\n        this.setState({ data: res.data });\r\n\r\n\r\n      });\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  }\r\n  handleClose = () => {\r\n    let status = false\r\n    this.setState({ showModalPopup: status });\r\n  }\r\n\r\n  handleButton = event => {\r\n    let status = true\r\n    this.setState({ showModalPopup: status });\r\n    event.preventDefault();\r\n    console.log(\"BUTTON CLICKED\");\r\n\r\n\r\n    const quizID = event.target.getAttribute(\"data-index\");\r\n    const totalMarks = event.target.getAttribute(\"data-mark\");\r\n    const totalPoints = event.target.getAttribute(\"data-points\");\r\n    // console.log(quizID);\r\n    // console.log(totalMarks);\r\n    // console.log(totalPoints);\r\n\r\n    const quiz = {\r\n      quizID: quizID,\r\n      studentID: '1',\r\n      pointsEarned: totalPoints,\r\n      marksEarned: totalMarks\r\n    };\r\n    const studentUpdatePoint = {\r\n      pointsEarned: totalPoints,\r\n      studentID: '1',\r\n    }\r\n\r\n    const config = {\r\n      headers: {\r\n        'content-type': 'application/json'\r\n      }\r\n    }\r\n    axios.post('http://localhost:8081/quiz', quiz, config)\r\n      .then(res => {\r\n        console.log(res);\r\n        console.log(res.data);\r\n        console.log(\"AXIOS POSTING\")\r\n        // window.location.reload();\r\n      })\r\n    axios.put(`http://localhost:8081/studentPoints`, studentUpdatePoint, config)\r\n      .then(res => {\r\n        console.log(res);\r\n        console.log(res.data);\r\n        console.log(\"AXIOS PUTTING\")\r\n      })\r\n\r\n\r\n  }\r\n\r\n  //NEED TO GET STUDENT ID!\r\n\r\n  //   handleClose = () => {\r\n  //     this.props.onPopupClose(false);\r\n  // }\r\n\r\n\r\n\r\n\r\n\r\n  render() {\r\n\r\n    const data = this.state.data;\r\n\r\n\r\n    // When the user clicks anywhere outside of the modal, close it\r\n\r\n    return (\r\n\r\n      <div>\r\n        <div id=\"users\" class=\"row\">\r\n\r\n\r\n        </div>\r\n        {/* <div>\r\n\r\n\r\n\r\n\r\n          <div id=\"myModal\" class=\"modal\">\r\n\r\n\r\n            <div class=\"modal-content\">\r\n              <span class=\"close\">&times;</span>\r\n              <p>QUIZ completed!</p>\r\n            </div>\r\n          </div>\r\n\r\n        </div> */}\r\n        <table class=\"table\">\r\n\r\n          {data && data.map(item =>\r\n            <tr key={item.quizID} id='tableRow' class=\"spaceUnder\">\r\n              <td className=\"quizTitle\">Quiz {item.quizID}</td>\r\n              <td className=\"marks\">Total Marks: {item.totalMarks}</td>\r\n              <td className=\"points\">Total Points:{item.totalPoints}</td>\r\n\r\n              <td>\r\n                <Button onClick={this.handleButton} data-index={item.quizID} data-mark={item.totalMarks} data-points={item.totalPoints} type=\"submit\" id=\"myBtn\">Do Quiz!</Button>\r\n\r\n              </td>\r\n            </tr>\r\n          )}\r\n        </table>\r\n        <ModalPopup\r\n          showModalPopup={this.state.showModalPopup}\r\n          onPopupClose={this.handleClose}\r\n        ></ModalPopup>\r\n      </div>\r\n    )\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}