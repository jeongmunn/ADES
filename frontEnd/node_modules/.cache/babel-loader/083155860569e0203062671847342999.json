{"ast":null,"code":"import _classCallCheck from\"/Users/isaactan17/Desktop/ADES/frontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/isaactan17/Desktop/ADES/frontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/isaactan17/Desktop/ADES/frontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/isaactan17/Desktop/ADES/frontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import axios from'axios';import Card from'react-bootstrap/Card';import StudentNavigation from'./StudentNavigaton';import{signOut}from\"firebase/auth\";import{auth}from'../firebase.js';import sample from'../logoLoading.webm';import'../App.css';import'../css/navigation.css';import'../css/pointsHistory.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ptsHistory=/*#__PURE__*/function(_React$Component){_inherits(ptsHistory,_React$Component);var _super=_createSuper(ptsHistory);function ptsHistory(){var _this;_classCallCheck(this,ptsHistory);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={data:[],uid:'',id:0,display:'block',display2:'none'};return _this;}_createClass(ptsHistory,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;// Auth\nauth.onAuthStateChanged(function(user){// IF there's user\nif(user){_this2.setState({display:'none'});_this2.setState({display2:'block'});console.log(\"User is Signed IN \");_this2.setState({uid:user.uid});var config={headers:{'content-type':'application/json'}};// Get the user type\naxios.get(\"https://ades-ca1-project.herokuapp.com/api/userType/\"+_this2.state.uid,config).then(function(res){// IF is student\nif(res.data.type===1){_this2.setState({id:res.data.studentID});// GET student's points history\naxios.get('https://ades-ca1-project.herokuapp.com/api/ptsHistory/'+_this2.state.id).then(function(res){_this2.setState({data:res.data});});// IF is teacher\n}else if(res.data.type===2){window.location.replace('https://ades-ca1-project.herokuapp.com/quizment/teacherDashboard');// ELSE kick them out\n}else{window.location.replace('https://ades-ca1-project.herokuapp.com/quizment');}});// ELSE kick them out\n}else{console.log(\"THERE IS NO USER\");signOut(auth);window.location.replace('https://ades-ca1-project.herokuapp.com/quizment');}});}},{key:\"render\",value:function render(){var data=this.state.data;return/*#__PURE__*/_jsxs(\"div\",{className:\"PointsHistory\",children:[/*#__PURE__*/_jsx(\"video\",{style:{display:this.state.display,width:'100%',height:'auto'},className:\"videoLoader\",autoPlay:true,loop:true,muted:true,children:/*#__PURE__*/_jsx(\"source\",{src:sample,type:\"video/webm\"})}),/*#__PURE__*/_jsxs(\"div\",{style:{display:this.state.display2},children:[/*#__PURE__*/_jsx(StudentNavigation,{className:\"navBar\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"Points History\"}),/*#__PURE__*/_jsx(\"div\",{className:\"history\",children:data&&data.map(function(item){return/*#__PURE__*/_jsxs(Card,{className:\"card\",border:\"primary\",body:true,children:[\"You've earned \",item.pointsAwarded,\" points from event \",item.eventName]});})})]})]});}}]);return ptsHistory;}(React.Component);export{ptsHistory as default};","map":{"version":3,"sources":["/Users/isaactan17/Desktop/ADES/frontEnd/src/components/StudentPointsHistory.js"],"names":["React","axios","Card","StudentNavigation","signOut","auth","sample","ptsHistory","state","data","uid","id","display","display2","onAuthStateChanged","user","setState","console","log","config","headers","get","then","res","type","studentID","window","location","replace","width","height","map","item","pointsAwarded","eventName","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport Card from 'react-bootstrap/Card';\nimport StudentNavigation from './StudentNavigaton';\nimport { signOut } from \"firebase/auth\";\nimport { auth } from '../firebase.js';\nimport sample from '../logoLoading.webm';\nimport '../App.css';\nimport '../css/navigation.css';\nimport '../css/pointsHistory.css';\n\nexport default class ptsHistory extends React.Component {\n    state = {\n        data: [],\n        uid: '',\n        id: 0,\n        display: 'block',\n        display2: 'none'\n    }\n\n    componentDidMount() {\n        // Auth\n        auth.onAuthStateChanged((user) => {\n            // IF there's user\n            if (user) {\n                this.setState({ display: 'none' });\n                this.setState({ display2: 'block' });\n                console.log(\"User is Signed IN \");\n                this.setState({ uid: user.uid });\n                const config = {\n                    headers: {\n                        'content-type': 'application/json'\n                    }\n                }\n\n                // Get the user type\n                axios.get(`https://ades-ca1-project.herokuapp.com/api/userType/` + this.state.uid, config)\n                    .then(res => {\n                        // IF is student\n                        if (res.data.type === 1) {\n                            this.setState({ id: res.data.studentID })\n                            // GET student's points history\n                            axios.get('https://ades-ca1-project.herokuapp.com/api/ptsHistory/' + this.state.id)\n                                .then(res => {\n                                    this.setState({ data: res.data });\n                                })\n                            // IF is teacher\n                        } else if (res.data.type === 2) {\n                            window.location.replace('https://ades-ca1-project.herokuapp.com/quizment/teacherDashboard');\n                            // ELSE kick them out\n                        } else {\n                            window.location.replace('https://ades-ca1-project.herokuapp.com/quizment');\n                        }\n                    })\n                // ELSE kick them out\n            } else {\n                console.log(\"THERE IS NO USER\");\n                signOut(auth);\n                window.location.replace('https://ades-ca1-project.herokuapp.com/quizment');\n            }\n        });\n    }\n\n    render() {\n\n        const data = this.state.data;\n\n        return (\n            <div className=\"PointsHistory\">\n                <video style={{ display: this.state.display, width: '100%', height: 'auto' }} className='videoLoader' autoPlay loop muted>\n                    <source src={sample} type='video/webm' />\n                </video>\n                <div style={{ display: this.state.display2 }}>\n                <StudentNavigation className=\"navBar\">\n                </StudentNavigation>\n                <h1>Points History</h1>\n                <div className=\"history\">\n                    {data && data.map(item =>\n                        <Card className=\"card\" border=\"primary\" body>You've earned {item.pointsAwarded} points from event {item.eventName}</Card>\n                    )}\n                </div>\n                </div>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}