{"ast":null,"code":"var _jsxFileName = \"/Users/isaactan17/Desktop/ADES/frontEnd/src/components/SignIn.js\",\n    _s = $RefreshSig$();\n\nimport '../SignIn.css';\nimport { createUserWithEmailAndPassword, sendPasswordResetEmail, signInWithEmailAndPassword } from \"firebase/auth\";\nimport { auth } from '../firebase.js';\nimport { useNavigate } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport React, { useState, useRef } from 'react'; // import TabPanel from '@mui/lab/TabPanel';\n\nimport Button from '@mui/material/Button';\nimport Typography from '@mui/material/Typography';\nimport Tabs from '@mui/material/Tabs';\nimport Tab from '@mui/material/Tab';\nimport Box from '@mui/material/Box';\nimport TextField from '@mui/material/TextField';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction TabPanel(props) {\n  const {\n    children,\n    value,\n    index,\n    ...other\n  } = props;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    role: \"tabpanel\",\n    hidden: value !== index,\n    id: `simple-tabpanel-${index}`,\n    \"aria-labelledby\": `simple-tab-${index}`,\n    ...other,\n    children: value === index && /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        p: 3\n      },\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        children: children\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 9\n  }, this);\n}\n\n_c = TabPanel;\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.number.isRequired,\n  value: PropTypes.number.isRequired\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `simple-tab-${index}`,\n    'aria-controls': `simple-tabpanel-${index}`\n  };\n}\n\nconst SignIn = () => {\n  _s();\n\n  const loginEmailInput = useRef(\"\");\n  const loginPasswordInput = useRef(\"\");\n  const [registerEmail, setRegisterEmail] = useState(\"\");\n  const [registerPassword, setRegisterPassword] = useState(\"\");\n  const [loginEmail, setLoginEmail] = useState(\"\");\n  const [loginPassword, setLoginPassword] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [value, setValue] = useState(0);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  let navigate = useNavigate();\n\n  const register = async () => {\n    try {\n      const user = await createUserWithEmailAndPassword(auth, registerEmail, registerPassword);\n      const config = {\n        headers: {\n          'content-type': 'application/json'\n        }\n      };\n      var dateData = JSON.stringify(user.user.metadata.createdAt);\n      dateData = parseInt(JSON.parse(dateData));\n      const personalDetails = {\n        name: JSON.parse(JSON.stringify(user.user.email)),\n        Uid: JSON.parse(JSON.stringify(user.user.uid)),\n        streaks: 0,\n        totalPts: 0,\n        mazeLvl: 1,\n        redeemedPts: 0,\n        type: 1,\n        lastLogin: dateData\n      };\n      axios.post('http://localhost:8081/api/newStudent', personalDetails, config).then(res => {\n        console.log(res);\n        console.log(res.data);\n        navigate('/studentDashboard');\n      });\n    } catch (error) {\n      const errorCode = error.code;\n      const errorMessage = error.message;\n      console.log(JSON.stringify(errorCode));\n      console.log(JSON.stringify(errorMessage));\n    }\n  };\n\n  const login = async () => {\n    try {\n      const user = await signInWithEmailAndPassword(auth, loginEmailInput.current.value, loginPasswordInput.current.value);\n      const config = {\n        headers: {\n          'content-type': 'application/json'\n        }\n      };\n      var uid = JSON.parse(JSON.stringify(user.user.uid));\n      axios.get(`http://localhost:8081/api/userType/` + uid, config).then(res => {\n        if (res.data.type === 1) {\n          navigate('/studentDashboard');\n        } else if (res.data.type === 2) {\n          navigate('/teacherAdmin');\n        } else {\n          navigate('/');\n        }\n      });\n    } catch (error) {\n      const errorCode = error.code;\n      const errorMessage = error.message;\n      console.log(JSON.stringify(errorCode));\n      console.log(JSON.stringify(errorMessage));\n    }\n  };\n\n  const forgotPassword = async () => {\n    try {\n      const user = await sendPasswordResetEmail(auth, email);\n    } catch (error) {\n      const errorCode = error.code;\n      const errorMessage = error.message;\n      console.log(JSON.stringify(errorCode));\n      console.log(JSON.stringify(errorMessage));\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"signin\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Authentication\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        width: '100%'\n      },\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          borderColor: 'divider'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Tabs, {\n          value: value,\n          onChange: handleChange,\n          textColor: \"secondary\",\n          indicatorColor: \"secondary\",\n          \"aria-label\": \"secondary tabs example\",\n          centered: true,\n          children: [/*#__PURE__*/_jsxDEV(Tab, {\n            label: \"Sign In\",\n            ...a11yProps(0)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Tab, {\n            label: \"Sign Up\",\n            ...a11yProps(1)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Tab, {\n            label: \"Forgot Password\",\n            ...a11yProps(2)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n          value: value,\n          index: 0,\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            required: true,\n            fullWidth: true,\n            inputRef: loginEmailInput,\n            id: \"outlined-required\",\n            label: \"Email\",\n            margin: \"dense\",\n            type: \"email\",\n            onChange: event => {\n              setLoginEmail(event.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            required: true,\n            fullWidth: true,\n            inputRef: loginPasswordInput,\n            id: \"outlined-password-input\",\n            label: \"Password\",\n            margin: \"dense\",\n            type: \"password\",\n            autoComplete: \"current-password\",\n            onChange: event => {\n              setLoginPassword(event.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            sx: {\n              background: 'linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)',\n              color: 'white',\n              paddingTop: '10px',\n              paddingBottom: '10px',\n              marginTop: '10px',\n              width: '100%'\n            },\n            variant: \"contained\",\n            onClick: login,\n            children: \" Sign In\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n          value: value,\n          index: 1,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"email\",\n            type: \"email\",\n            onChange: event => {\n              setRegisterEmail(event.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"password\",\n            type: \"password\",\n            onChange: event => {\n              setRegisterPassword(event.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outlined\",\n            onClick: register,\n            children: \"Sign Up\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n          value: value,\n          index: 2,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"email\",\n            type: \"email\",\n            onChange: event => {\n              setEmail(event.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outlined\",\n            onClick: forgotPassword,\n            children: \"Forgot Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 154,\n    columnNumber: 9\n  }, this);\n};\n\n_s(SignIn, \"Jg7vdBcj+4m709MsguBQ/+E+CJU=\", false, function () {\n  return [useNavigate];\n});\n\n_c2 = SignIn;\nexport default SignIn;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"TabPanel\");\n$RefreshReg$(_c2, \"SignIn\");","map":{"version":3,"sources":["/Users/isaactan17/Desktop/ADES/frontEnd/src/components/SignIn.js"],"names":["createUserWithEmailAndPassword","sendPasswordResetEmail","signInWithEmailAndPassword","auth","useNavigate","PropTypes","React","useState","useRef","Button","Typography","Tabs","Tab","Box","TextField","axios","TabPanel","props","children","value","index","other","p","propTypes","node","number","isRequired","a11yProps","id","SignIn","loginEmailInput","loginPasswordInput","registerEmail","setRegisterEmail","registerPassword","setRegisterPassword","loginEmail","setLoginEmail","loginPassword","setLoginPassword","email","setEmail","setValue","handleChange","event","newValue","navigate","register","user","config","headers","dateData","JSON","stringify","metadata","createdAt","parseInt","parse","personalDetails","name","Uid","uid","streaks","totalPts","mazeLvl","redeemedPts","type","lastLogin","post","then","res","console","log","data","error","errorCode","code","errorMessage","message","login","current","get","forgotPassword","width","borderColor","target","background","color","paddingTop","paddingBottom","marginTop"],"mappings":"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","sourcesContent":["import '../SignIn.css';\nimport {\n    createUserWithEmailAndPassword,\n    sendPasswordResetEmail,\n    signInWithEmailAndPassword\n} from \"firebase/auth\";\nimport { auth } from '../firebase.js';\nimport { useNavigate } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport React, { useState, useRef } from 'react';\n// import TabPanel from '@mui/lab/TabPanel';\nimport Button from '@mui/material/Button';\nimport Typography from '@mui/material/Typography';\nimport Tabs from '@mui/material/Tabs';\nimport Tab from '@mui/material/Tab';\nimport Box from '@mui/material/Box';\nimport TextField from '@mui/material/TextField';\nimport axios from 'axios';\n\nfunction TabPanel(props) {\n    const { children, value, index, ...other } = props;\n\n    return (\n        <div\n            role=\"tabpanel\"\n            hidden={value !== index}\n            id={`simple-tabpanel-${index}`}\n            aria-labelledby={`simple-tab-${index}`}\n            {...other}\n        >\n            {value === index && (\n                <Box sx={{ p: 3 }}>\n                    <Typography>{children}</Typography>\n                </Box>\n            )}\n        </div>\n    );\n}\n\nTabPanel.propTypes = {\n    children: PropTypes.node,\n    index: PropTypes.number.isRequired,\n    value: PropTypes.number.isRequired,\n};\n\nfunction a11yProps(index) {\n    return {\n        id: `simple-tab-${index}`,\n        'aria-controls': `simple-tabpanel-${index}`,\n    };\n}\n\n\n\nconst SignIn = () => {\n    const loginEmailInput = useRef(\"\");\n    const loginPasswordInput = useRef(\"\");\n    const [registerEmail, setRegisterEmail] = useState(\"\");\n    const [registerPassword, setRegisterPassword] = useState(\"\");\n    const [loginEmail, setLoginEmail] = useState(\"\");\n    const [loginPassword, setLoginPassword] = useState(\"\");\n    const [email, setEmail] = useState(\"\");\n    const [value, setValue] = useState(0);\n\n    const handleChange = (event, newValue) => {\n        setValue(newValue);\n    };\n    let navigate = useNavigate();\n\n    const register = async () => {\n        try {\n            const user = await createUserWithEmailAndPassword(\n                auth,\n                registerEmail,\n                registerPassword\n            );\n            const config = {\n                headers: {\n                    'content-type': 'application/json'\n                }\n            }\n\n            var dateData = JSON.stringify(user.user.metadata.createdAt);\n            dateData = parseInt(JSON.parse(dateData));\n            const personalDetails = {\n                name: JSON.parse(JSON.stringify(user.user.email)),\n                Uid: JSON.parse(JSON.stringify(user.user.uid)),\n                streaks: 0,\n                totalPts: 0,\n                mazeLvl: 1,\n                redeemedPts: 0,\n                type: 1,\n                lastLogin: dateData\n            };\n            axios.post('http://localhost:8081/api/newStudent', personalDetails, config)\n                .then(res => {\n                    console.log(res);\n                    console.log(res.data);\n                    navigate('/studentDashboard');\n                })\n        } catch (error) {\n            const errorCode = error.code;\n            const errorMessage = error.message;\n            console.log(JSON.stringify(errorCode));\n            console.log(JSON.stringify(errorMessage));\n        }\n    };\n\n    const login = async () => {\n        try {\n            const user = await signInWithEmailAndPassword(\n                auth,\n                loginEmailInput.current.value,\n                loginPasswordInput.current.value\n            );\n            const config = {\n                headers: {\n                    'content-type': 'application/json'\n                }\n            }\n            var uid = JSON.parse(JSON.stringify(user.user.uid));\n            axios.get(`http://localhost:8081/api/userType/` + uid, config)\n                .then(res => {\n                    if (res.data.type === 1) {\n                        navigate('/studentDashboard');\n                    } else if (res.data.type === 2) {\n                        navigate('/teacherAdmin');\n                    } else {\n                        navigate('/');\n                    }\n                })\n        } catch (error) {\n            const errorCode = error.code;\n            const errorMessage = error.message;\n            console.log(JSON.stringify(errorCode));\n            console.log(JSON.stringify(errorMessage));\n        }\n    };\n\n    const forgotPassword = async () => {\n        try {\n            const user = await sendPasswordResetEmail(\n                auth,\n                email);\n        } catch (error) {\n            const errorCode = error.code;\n            const errorMessage = error.message;\n            console.log(JSON.stringify(errorCode));\n            console.log(JSON.stringify(errorMessage));\n        }\n    };\n\n    return (\n        <div className=\"signin\">\n            <h1>Authentication</h1>\n            <Box sx={{ width: '100%' }}>\n                <Box sx={{ borderColor: 'divider' }}>\n                    <Tabs\n                        value={value}\n                        onChange={handleChange}\n                        textColor=\"secondary\"\n                        indicatorColor=\"secondary\"\n                        aria-label=\"secondary tabs example\"\n                        centered\n                    >\n                        <Tab label=\"Sign In\" {...a11yProps(0)} />\n                        <Tab label=\"Sign Up\" {...a11yProps(1)} />\n                        <Tab label=\"Forgot Password\" {...a11yProps(2)} />\n                    </Tabs>\n                    <TabPanel value={value} index={0}>\n                        {/* <input placeholder=\"email\" type=\"email\" onChange={(event) => {\n                            setLoginEmail(event.target.value);\n                        }} /> */}\n                        <TextField\n                            required\n                            fullWidth\n                            inputRef={loginEmailInput}\n                            id=\"outlined-required\"\n                            label=\"Email\"\n                            margin=\"dense\"\n                            type=\"email\"\n                            onChange={(event) => {\n                                setLoginEmail(event.target.value);\n                            }}\n                        />\n                        <TextField\n                            required\n                            fullWidth\n                            inputRef={loginPasswordInput}\n                            id=\"outlined-password-input\"\n                            label=\"Password\"\n                            margin=\"dense\"\n                            type=\"password\"\n                            autoComplete=\"current-password\"\n                            onChange={(event) => {\n                                setLoginPassword(event.target.value);\n                            }}\n                        />\n                        {/* <input placeholder=\"password\" type=\"password\" onChange={(event) => {\n                            setLoginPassword(event.target.value);\n                        }} /> */}\n                        <Button sx={{ background: 'linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)', color: 'white', paddingTop: '10px', paddingBottom: '10px', marginTop: '10px', width: '100%' }} variant=\"contained\" onClick={login}> Sign In</Button>\n                    </TabPanel>\n                    <TabPanel value={value} index={1}>\n                        <input placeholder=\"email\" type=\"email\" onChange={(event) => {\n                            setRegisterEmail(event.target.value);\n                        }} />\n                        <input placeholder=\"password\" type=\"password\" onChange={(event) => {\n                            setRegisterPassword(event.target.value);\n                        }} />\n                        <Button variant=\"outlined\" onClick={register}>Sign Up</Button>\n                    </TabPanel>\n                    <TabPanel value={value} index={2}>\n                        <input placeholder=\"email\" type=\"email\" onChange={(event) => {\n                            setEmail(event.target.value);\n                        }} />\n                        <Button variant=\"outlined\" onClick={forgotPassword}>Forgot Password</Button>\n                    </TabPanel>\n                </Box>\n            </Box>\n        </div>\n    )\n}\nexport default SignIn;\n"]},"metadata":{},"sourceType":"module"}