{"ast":null,"code":"import _classCallCheck from\"C:/Users/khadi/OneDrive/Documents/GitHub/ADES/frontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/khadi/OneDrive/Documents/GitHub/ADES/frontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/khadi/OneDrive/Documents/GitHub/ADES/frontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/khadi/OneDrive/Documents/GitHub/ADES/frontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import axios from'axios';import Button from'react-bootstrap/Button';import'../css/quiz.css';import StudentNavigation from'./StudentNavigaton';import QuizPopup from'./QuizPopup';import{signOut}from\"firebase/auth\";import{auth}from'../firebase.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Quiz=/*#__PURE__*/function(_React$Component){_inherits(Quiz,_React$Component);var _super=_createSuper(Quiz);function Quiz(){var _this;_classCallCheck(this,Quiz);_this=_super.call(this);_this.handleClose=function(){var status=false;_this.setState({showModalPopup:status});window.location.reload();};_this.handleScoreAndPoints=function(quizID,totalMarks,totalPoints){_this.setState({quizID:quizID});_this.setState({totalMarks:totalMarks});_this.setState({totalPoints:totalPoints});console.log(\"BUTTON CLICKED\");// const quizID = this.state.quizID\n// const totalMarks = this.state.totalMarks\n// const totalPoints = this.state.totalPoints\nvar quiz={quizID:_this.state.quizID,studentID:_this.state.id,pointsEarned:_this.state.totalPoints,marksEarned:_this.state.totalMarks};var studentUpdatePoint={studentID:_this.state.id,pointsEarned:_this.state.totalPoints};var config={headers:{'content-type':'application/json'}};axios.post('https://ades-ca1-project.herokuapp.com/api/quizHistory',quiz,config).then(function(res){console.log(res);console.log(res.data);console.log(\"AXIOS POSTING\");// this.quizHistory(function(){\n//     console.log(\"its in quizHistory callback\")\n//     this.setShowModalPopupTrue()\n// });\n});axios.put(\"https://ades-ca1-project.herokuapp.com/api/studentPoints\",studentUpdatePoint,config).then(function(res){console.log(\"HELLO WORK PLS\");console.log(res);console.log(res.data);console.log(\"AXIOS PUTTING\");window.alert(\"points awarded\");//NEED NOTY HERE STATING THAT POINTS ARE ADDED\naxios.get('https://ades-ca1-project.herokuapp.com/api/summary/'+_this.state.quizID+'/'+_this.state.id).then(function(res){_this.setState({data:res.data});_this.setState({showModalPopup:true});});});};_this.state={showModalPopup:false,data:[],uid:'',id:0,quizID:0,totalMarks:0,totalPoints:0};return _this;}_createClass(Quiz,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;auth.onAuthStateChanged(function(user){if(user){console.log(\"User is Signed IN \");_this2.setState({uid:user.uid});var config={headers:{'content-type':'application/json'}};axios.get(\"https://ades-ca1-project.herokuapp.com/api/userType/\"+_this2.state.uid,config).then(function(res){//call maze animation\nif(res.data.type===1){_this2.setState({id:res.data.studentID});// area to put your axios with the student id\n}else if(res.data.type===2){window.location.replace('https://ades-ca1-project.herokuapp.com/quizment/teacherDashboard');}else{window.location.replace('https://ades-ca1-project.herokuapp.com/quizment');}});}else{console.log(\"THERE IS NO USER\");signOut(auth);window.location.replace('https://ades-ca1-project.herokuapp.com/quizment');}});axios.get(\"https://ades-ca1-project.herokuapp.com/api/quiz\").then(function(res){console.log(res.data.length);_this2.setState({data:res.data});console.log(res.data.length);_this2.setState({data:res.data});});}},{key:\"render\",value:function render(){var _this3=this;var data=this.state.data;// When the user clicks anywhere outside of the modal, close it\nreturn/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(StudentNavigation,{className:\"navBar\"}),/*#__PURE__*/_jsx(\"div\",{id:\"users\",class:\"row\"}),/*#__PURE__*/_jsx(\"table\",{class:\"quizTable\",children:data&&data.map(function(item){return/*#__PURE__*/_jsxs(\"tr\",{id:\"tableRow\",class:\"quizRow\",children:[/*#__PURE__*/_jsxs(\"td\",{className:\"quizTitle quizTableD\",children:[\"Quiz \",item.quizID]}),/*#__PURE__*/_jsxs(\"td\",{className:\"marks quizTableD\",children:[\"Total Marks: \",item.totalMarks]}),/*#__PURE__*/_jsxs(\"td\",{className:\"quizpoints quizTableD\",children:[\"Total Points:\",item.totalPoints]}),/*#__PURE__*/_jsx(\"td\",{className:\"quizTableD\",children:/*#__PURE__*/_jsx(\"button\",{className:\"gradient-button gradient-button-1\",onClick:function onClick(){return _this3.handleScoreAndPoints(item.quizID,item.totalMarks,item.totalPoints);},type:\"submit\",id:\"myBtn\",children:\"Do Quiz!\"})})]},item.quizID);})}),/*#__PURE__*/_jsx(QuizPopup,{showModalPopup:this.state.showModalPopup,onPopupClose:this.handleClose,data:this.state.data})]});}}]);return Quiz;}(React.Component);export{Quiz as default};","map":{"version":3,"sources":["C:/Users/khadi/OneDrive/Documents/GitHub/ADES/frontEnd/src/components/Quiz.js"],"names":["React","axios","Button","StudentNavigation","QuizPopup","signOut","auth","Quiz","handleClose","status","setState","showModalPopup","window","location","reload","handleScoreAndPoints","quizID","totalMarks","totalPoints","console","log","quiz","state","studentID","id","pointsEarned","marksEarned","studentUpdatePoint","config","headers","post","then","res","data","put","alert","get","uid","onAuthStateChanged","user","type","replace","length","map","item","Component"],"mappings":"oqBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,wBAAnB,CACA,MAAO,iBAAP,CACA,MAAOC,CAAAA,iBAAP,KAA8B,oBAA9B,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CACA,OAASC,OAAT,KAAwB,eAAxB,CACA,OAASC,IAAT,KAAqB,gBAArB,C,2FACqBC,CAAAA,I,wGAEjB,eAAc,sCACV,wBADU,MAwDdC,WAxDc,CAwDA,UAAM,CAChB,GAAIC,CAAAA,MAAM,CAAG,KAAb,CACA,MAAKC,QAAL,CAAc,CAAEC,cAAc,CAAEF,MAAlB,CAAd,EACAG,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GACH,CA5Da,OA+DdC,oBA/Dc,CA+DS,SAACC,MAAD,CAASC,UAAT,CAAqBC,WAArB,CAAsC,CAEzD,MAAKR,QAAL,CAAc,CAAEM,MAAM,CAAEA,MAAV,CAAd,EACF,MAAKN,QAAL,CAAc,CAACO,UAAU,CAACA,UAAZ,CAAd,EACA,MAAKP,QAAL,CAAc,CAACQ,WAAW,CAACA,WAAb,CAAd,EACEC,OAAO,CAACC,GAAR,CAAY,gBAAZ,EACA;AACA;AACA;AAEA,GAAMC,CAAAA,IAAI,CAAG,CACTL,MAAM,CAAE,MAAKM,KAAL,CAAWN,MADV,CAETO,SAAS,CAAE,MAAKD,KAAL,CAAWE,EAFb,CAGTC,YAAY,CAAE,MAAKH,KAAL,CAAWJ,WAHhB,CAITQ,WAAW,CAAE,MAAKJ,KAAL,CAAWL,UAJf,CAAb,CAMA,GAAMU,CAAAA,kBAAkB,CAAG,CACvBJ,SAAS,CAAE,MAAKD,KAAL,CAAWE,EADC,CAEvBC,YAAY,CAAE,MAAKH,KAAL,CAAWJ,WAFF,CAA3B,CAKA,GAAMU,CAAAA,MAAM,CAAG,CACXC,OAAO,CAAE,CACL,eAAgB,kBADX,CADE,CAAf,CAKA5B,KAAK,CAAC6B,IAAN,CAAW,wDAAX,CAAqET,IAArE,CAA2EO,MAA3E,EACKG,IADL,CACU,SAAAC,GAAG,CAAI,CACTb,OAAO,CAACC,GAAR,CAAYY,GAAZ,EACAb,OAAO,CAACC,GAAR,CAAYY,GAAG,CAACC,IAAhB,EACAd,OAAO,CAACC,GAAR,CAAY,eAAZ,EACA;AACA;AACA;AACA;AAEH,CAVL,EAWAnB,KAAK,CAACiC,GAAN,4DAAsEP,kBAAtE,CAA0FC,MAA1F,EACKG,IADL,CACU,SAAAC,GAAG,CAAI,CACTb,OAAO,CAACC,GAAR,CAAY,gBAAZ,EACAD,OAAO,CAACC,GAAR,CAAYY,GAAZ,EACAb,OAAO,CAACC,GAAR,CAAYY,GAAG,CAACC,IAAhB,EACAd,OAAO,CAACC,GAAR,CAAY,eAAZ,EACAR,MAAM,CAACuB,KAAP,CAAa,gBAAb,EAA+B;AAC/BlC,KAAK,CAACmC,GAAN,CAAU,sDAAyD,MAAKd,KAAL,CAAWN,MAApE,CAA6E,GAA7E,CAAmF,MAAKM,KAAL,CAAWE,EAAxG,EACDO,IADC,CACI,SAAAC,GAAG,CAAI,CACT,MAAKtB,QAAL,CAAc,CAAEuB,IAAI,CAAED,GAAG,CAACC,IAAZ,CAAd,EACD,MAAKvB,QAAL,CAAc,CAAEC,cAAc,CAAE,IAAlB,CAAd,EAEF,CALC,EAMH,CAbL,EAeC,CAnHS,CAEV,MAAKW,KAAL,CAAa,CACTX,cAAc,CAAE,KADP,CAETsB,IAAI,CAAE,EAFG,CAGTI,GAAG,CAAE,EAHI,CAITb,EAAE,CAAE,CAJK,CAKTR,MAAM,CAAE,CALC,CAMTC,UAAU,CAAC,CANF,CAOTC,WAAW,CAAC,CAPH,CAAb,CAFU,aAWb,C,kDAED,4BAAoB,iBAEhBZ,IAAI,CAACgC,kBAAL,CAAwB,SAACC,IAAD,CAAU,CAC9B,GAAIA,IAAJ,CAAU,CACNpB,OAAO,CAACC,GAAR,CAAY,oBAAZ,EACA,MAAI,CAACV,QAAL,CAAc,CAAE2B,GAAG,CAAEE,IAAI,CAACF,GAAZ,CAAd,EACA,GAAMT,CAAAA,MAAM,CAAG,CACXC,OAAO,CAAE,CACL,eAAgB,kBADX,CADE,CAAf,CAKA5B,KAAK,CAACmC,GAAN,CAAU,uDAAyD,MAAI,CAACd,KAAL,CAAWe,GAA9E,CAAmFT,MAAnF,EACKG,IADL,CACU,SAAAC,GAAG,CAAI,CAAC;AAEV,GAAIA,GAAG,CAACC,IAAJ,CAASO,IAAT,GAAkB,CAAtB,CAAyB,CACtB,MAAI,CAAC9B,QAAL,CAAc,CAAEc,EAAE,CAAEQ,GAAG,CAACC,IAAJ,CAASV,SAAf,CAAd,EACA;AAEF,CAJD,IAIO,IAAIS,GAAG,CAACC,IAAJ,CAASO,IAAT,GAAkB,CAAtB,CAAyB,CAC5B5B,MAAM,CAACC,QAAP,CAAgB4B,OAAhB,CAAwB,kEAAxB,EACH,CAFM,IAEA,CACH7B,MAAM,CAACC,QAAP,CAAgB4B,OAAhB,CAAwB,iDAAxB,EACH,CACJ,CAZL,EAaH,CArBD,IAqBO,CACHtB,OAAO,CAACC,GAAR,CAAY,kBAAZ,EACAf,OAAO,CAACC,IAAD,CAAP,CACAM,MAAM,CAACC,QAAP,CAAgB4B,OAAhB,CAAwB,iDAAxB,EACH,CACJ,CA3BD,EA4BAxC,KAAK,CAACmC,GAAN,oDACKL,IADL,CACU,SAAAC,GAAG,CAAI,CACTb,OAAO,CAACC,GAAR,CAAYY,GAAG,CAACC,IAAJ,CAASS,MAArB,EACA,MAAI,CAAChC,QAAL,CAAc,CAAEuB,IAAI,CAAED,GAAG,CAACC,IAAZ,CAAd,EAEAd,OAAO,CAACC,GAAR,CAAYY,GAAG,CAACC,IAAJ,CAASS,MAArB,EAEA,MAAI,CAAChC,QAAL,CAAc,CAAEuB,IAAI,CAAED,GAAG,CAACC,IAAZ,CAAd,EAGH,CAVL,EAWH,C,sBAgED,iBAAS,iBACL,GAAMA,CAAAA,IAAI,CAAG,KAAKX,KAAL,CAAWW,IAAxB,CACA;AACA,mBACI,oCACI,KAAC,iBAAD,EAAoB,SAAS,CAAC,QAA9B,EADJ,cAGI,YAAK,EAAE,CAAC,OAAR,CAAgB,KAAK,CAAC,KAAtB,EAHJ,cAMI,cAAO,KAAK,CAAC,WAAb,UAEKA,IAAI,EAAIA,IAAI,CAACU,GAAL,CAAS,SAAAC,IAAI,qBAClB,YAAsB,EAAE,CAAC,UAAzB,CAAoC,KAAK,CAAC,SAA1C,wBACI,YAAI,SAAS,CAAC,sBAAd,mBAA2CA,IAAI,CAAC5B,MAAhD,GADJ,cAEI,YAAI,SAAS,CAAC,kBAAd,2BAA+C4B,IAAI,CAAC3B,UAApD,GAFJ,cAGI,YAAI,SAAS,CAAC,uBAAd,2BAAoD2B,IAAI,CAAC1B,WAAzD,GAHJ,cAKI,WAAI,SAAS,CAAC,YAAd,uBACI,eAAQ,SAAS,CAAC,mCAAlB,CAAsD,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACH,oBAAL,CAA0B6B,IAAI,CAAC5B,MAA/B,CAAuC4B,IAAI,CAAC3B,UAA5C,CAAwD2B,IAAI,CAAC1B,WAA7D,CAAN,EAA/D,CAAiJ,IAAI,CAAC,QAAtJ,CAA+J,EAAE,CAAC,OAAlK,sBADJ,EALJ,GAAS0B,IAAI,CAAC5B,MAAd,CADkB,EAAb,CAFb,EANJ,cAqBI,KAAC,SAAD,EACI,cAAc,CAAE,KAAKM,KAAL,CAAWX,cAD/B,CAEI,YAAY,CAAE,KAAKH,WAFvB,CAGI,IAAI,CAAE,KAAKc,KAAL,CAAWW,IAHrB,EArBJ,GADJ,CA6BH,C,kBAxJ6BjC,KAAK,CAAC6C,S,SAAnBtC,I","sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport Button from 'react-bootstrap/Button';\r\nimport '../css/quiz.css';\r\nimport StudentNavigation from './StudentNavigaton';\r\nimport QuizPopup from './QuizPopup';\r\nimport { signOut } from \"firebase/auth\";\r\nimport { auth } from '../firebase.js';\r\nexport default class Quiz extends React.Component {\r\n\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            showModalPopup: false,\r\n            data: [],\r\n            uid: '',\r\n            id: 0,\r\n            quizID: 0,\r\n            totalMarks:0,\r\n            totalPoints:0\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n    \r\n        auth.onAuthStateChanged((user) => {\r\n            if (user) {\r\n                console.log(\"User is Signed IN \");\r\n                this.setState({ uid: user.uid });\r\n                const config = {\r\n                    headers: {\r\n                        'content-type': 'application/json'\r\n                    }\r\n                }\r\n                axios.get(`https://ades-ca1-project.herokuapp.com/api/userType/` + this.state.uid, config)\r\n                    .then(res => {//call maze animation\r\n                       \r\n                        if (res.data.type === 1) {\r\n                           this.setState({ id: res.data.studentID })\r\n                           // area to put your axios with the student id\r\n\r\n                        } else if (res.data.type === 2) {\r\n                            window.location.replace('https://ades-ca1-project.herokuapp.com/quizment/teacherDashboard');\r\n                        } else {\r\n                            window.location.replace('https://ades-ca1-project.herokuapp.com/quizment');\r\n                        }\r\n                    })\r\n            } else {\r\n                console.log(\"THERE IS NO USER\");\r\n                signOut(auth);\r\n                window.location.replace('https://ades-ca1-project.herokuapp.com/quizment');\r\n            }\r\n        });\r\n        axios.get(`https://ades-ca1-project.herokuapp.com/api/quiz`)\r\n            .then(res => {\r\n                console.log(res.data.length);\r\n                this.setState({ data: res.data });\r\n\r\n                console.log(res.data.length);\r\n\r\n                this.setState({ data: res.data });\r\n\r\n\r\n            });\r\n    }\r\n\r\n    handleClose = () => {\r\n        let status = false\r\n        this.setState({ showModalPopup: status });\r\n        window.location.reload();\r\n    }\r\n\r\n   \r\n    handleScoreAndPoints = (quizID, totalMarks, totalPoints)  => {\r\n      \r\n        this.setState({ quizID: quizID });\r\n      this.setState({totalMarks:totalMarks});\r\n      this.setState({totalPoints:totalPoints});\r\n        console.log(\"BUTTON CLICKED\");\r\n        // const quizID = this.state.quizID\r\n        // const totalMarks = this.state.totalMarks\r\n        // const totalPoints = this.state.totalPoints\r\n\r\n        const quiz = {\r\n            quizID: this.state.quizID,\r\n            studentID: this.state.id,\r\n            pointsEarned: this.state.totalPoints,\r\n            marksEarned: this.state.totalMarks\r\n        };\r\n        const studentUpdatePoint = {\r\n            studentID: this.state.id,\r\n            pointsEarned: this.state.totalPoints\r\n        }\r\n\r\n        const config = {\r\n            headers: {\r\n                'content-type': 'application/json'\r\n            }\r\n        }\r\n        axios.post('https://ades-ca1-project.herokuapp.com/api/quizHistory', quiz, config)\r\n            .then(res => {\r\n                console.log(res);\r\n                console.log(res.data);\r\n                console.log(\"AXIOS POSTING\")\r\n                // this.quizHistory(function(){\r\n                //     console.log(\"its in quizHistory callback\")\r\n                //     this.setShowModalPopupTrue()\r\n                // });\r\n          \r\n            })\r\n        axios.put(`https://ades-ca1-project.herokuapp.com/api/studentPoints`, studentUpdatePoint, config)\r\n            .then(res => {\r\n                console.log(\"HELLO WORK PLS\");\r\n                console.log(res);\r\n                console.log(res.data);\r\n                console.log(\"AXIOS PUTTING\")\r\n                window.alert(\"points awarded\");//NEED NOTY HERE STATING THAT POINTS ARE ADDED\r\n                axios.get('https://ades-ca1-project.herokuapp.com/api/summary/'  + this.state.quizID + '/' + this.state.id)\r\n              .then(res => {\r\n                  this.setState({ data: res.data });\r\n                 this.setState({ showModalPopup: true });\r\n                 \r\n              })\r\n            })\r\n\r\n        }\r\n       \r\n\r\n    render() {\r\n        const data = this.state.data;\r\n        // When the user clicks anywhere outside of the modal, close it\r\n        return (\r\n            <div>\r\n                <StudentNavigation  className=\"navBar\">\r\n                </StudentNavigation>\r\n                <div id=\"users\" class=\"row\">\r\n                </div>\r\n              \r\n                <table class=\"quizTable\">\r\n\r\n                    {data && data.map(item =>\r\n                        <tr key={item.quizID} id='tableRow' class=\"quizRow\">\r\n                            <td className=\"quizTitle quizTableD\">Quiz {item.quizID}</td>\r\n                            <td className=\"marks quizTableD\">Total Marks: {item.totalMarks}</td>\r\n                            <td className=\"quizpoints quizTableD\">Total Points:{item.totalPoints}</td>\r\n\r\n                            <td className=\"quizTableD\">\r\n                                <button className=\"gradient-button gradient-button-1\" onClick={() => this.handleScoreAndPoints(item.quizID, item.totalMarks, item.totalPoints)}  type=\"submit\" id=\"myBtn\">Do Quiz!</button>\r\n\r\n                            </td>\r\n                        </tr>\r\n                    )}\r\n                </table>\r\n                <QuizPopup\r\n                    showModalPopup={this.state.showModalPopup}\r\n                    onPopupClose={this.handleClose}\r\n                    data={this.state.data}\r\n                ></QuizPopup>\r\n            </div>\r\n        )\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}