{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\khadi\\\\OneDrive\\\\Documents\\\\GitHub\\\\ADES\\\\frontEnd\\\\src\\\\components\\\\MazePopup.js\";\nimport React, { Component, Fragment } from 'react';\nimport Button from 'react-bootstrap/Button';\nimport { Modal } from 'react-bootstrap';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class ModalPopup extends Component {\n  constructor(props) {\n    super(props);\n\n    this.isShowModal = status => {\n      this.handleClose();\n      this.setState({\n        showModal: status\n      });\n    };\n\n    this.handleClose = () => {\n      this.props.onPopupClose(false, this.props.level);\n    };\n\n    this.handleComplete = event => {\n      // Store student's points\n      const quizPts = this.props.point;\n      const currentPoints = this.state.currentPts + quizPts;\n      const totalPoints = this.state.totalPts + quizPts;\n      const mazeLvl = parseInt(this.state.mazeLvl) + 1; // Do the calculation\n\n      this.setState({\n        currentPts: currentPoints\n      });\n      this.setState({\n        totalPts: totalPoints\n      });\n      this.setState({\n        mazeLvl: mazeLvl\n      }); // Update student's table\n\n      const data = {\n        currentPts: currentPoints,\n        totalPts: totalPoints,\n        mazeLvl: mazeLvl\n      };\n      const config = {\n        headers: {\n          'content-type': 'application/json'\n        }\n      };\n      axios.put('http://localhost:8081/points/' + this.state.studentID, data, config).then(res => {\n        console.log(res);\n        console.log(res.data);\n      });\n      const points = {\n        ptsAwarded: quizPts,\n        eventID: 2\n      }; // Insert points history\n\n      axios.post('http://localhost:8081/ptsHistory/' + this.state.studentID, points, config).then(res => {\n        console.log(res);\n        console.log(res.data);\n        window.alert(\"Points redeemed successfully\"); // this.props.isNewLevel.setState({ newLevel: true });\n\n        this.setState;\n        window.location.reload();\n        this.handleClose(); //here is when i want to fun a certain function on the front\n      });\n    };\n\n    this.state = {\n      showModal: false,\n      newLvl: false,\n      studentID: 1,\n      currentPts: 0,\n      totalPts: 0,\n      mazeLvl: 0\n    };\n  }\n\n  componentDidMount() {\n    // Get student's points data'\n    //axios.get('https://ades-ca1-heroku.herokuapp.com/api/points/' + studentID)\n    axios.get('http://localhost:8081/points/' + this.state.studentID).then(res => {\n      this.setState({\n        currentPts: res.data[0].redeemedPts\n      });\n      this.setState({\n        totalPts: res.data[0].totalPts\n      });\n      this.setState({\n        mazeLvl: res.data[0].mazeLvl\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Fragment, {\n      children: /*#__PURE__*/_jsxDEV(Modal, {\n        show: this.props.showModalPopup,\n        onHide: this.handleClose,\n        id: this.props.level,\n        size: \"lg\",\n        \"aria-labelledby\": \"contained-modal-title-vcenter\",\n        centered: true,\n        children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n          closeButton: true,\n          children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n            id: \"sign-in-title\",\n            children: [\"Level \", this.props.level]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n          children: [/*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"Quiz\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\"Points : \", this.props.point, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: this.handleComplete,\n              children: \"Complete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/khadi/OneDrive/Documents/GitHub/ADES/frontEnd/src/components/MazePopup.js"],"names":["React","Component","Fragment","Button","Modal","axios","ModalPopup","constructor","props","isShowModal","status","handleClose","setState","showModal","onPopupClose","level","handleComplete","event","quizPts","point","currentPoints","state","currentPts","totalPoints","totalPts","mazeLvl","parseInt","data","config","headers","put","studentID","then","res","console","log","points","ptsAwarded","eventID","post","window","alert","location","reload","newLvl","componentDidMount","get","redeemedPts","render","showModalPopup"],"mappings":"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","sourcesContent":["import React, { Component, Fragment} from 'react';\r\nimport Button from 'react-bootstrap/Button';\r\nimport { Modal } from 'react-bootstrap';\r\nimport axios from 'axios';\r\n\r\n\r\nexport default class ModalPopup extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            showModal : false,\r\n            newLvl:false,\r\n            studentID : 1,\r\n            currentPts : 0,\r\n            totalPts : 0,\r\n            mazeLvl: 0\r\n        };\r\n    }\r\n\r\n    componentDidMount(){\r\n        // Get student's points data'\r\n        //axios.get('https://ades-ca1-heroku.herokuapp.com/api/points/' + studentID)\r\n        axios.get('http://localhost:8081/points/' + this.state.studentID)\r\n        .then(res => {\r\n            this.setState({ currentPts : res.data[0].redeemedPts });\r\n            this.setState({ totalPts : res.data[0].totalPts});\r\n            this.setState({ mazeLvl : res.data[0].mazeLvl});\r\n        })\r\n    }\r\n\r\n    isShowModal = (status) => {\r\n        this.handleClose();\r\n        this.setState({ showModal : status});\r\n    }\r\n\r\n    handleClose = () => {\r\n        this.props.onPopupClose(false,this.props.level);\r\n    }\r\n\r\n    handleComplete = event => {\r\n        // Store student's points\r\n        const quizPts = this.props.point;\r\n        const currentPoints = (this.state.currentPts + quizPts);\r\n        const totalPoints = (this.state.totalPts + quizPts);\r\n       \r\n        const mazeLvl = (parseInt(this.state.mazeLvl) + 1);\r\n    \r\n        // Do the calculation\r\n        this.setState({ currentPts : currentPoints});\r\n        this.setState({ totalPts : totalPoints});\r\n        this.setState({ mazeLvl : mazeLvl});\r\n        // Update student's table\r\n        const data = {\r\n            currentPts : currentPoints,\r\n            totalPts : totalPoints,\r\n            mazeLvl: mazeLvl\r\n        }\r\n\r\n        const config = {\r\n            headers: {\r\n                'content-type':'application/json'\r\n            }\r\n        }\r\n\r\n        axios.put('http://localhost:8081/points/' + this.state.studentID, data, config)\r\n        .then(res => {\r\n            console.log(res);\r\n            console.log(res.data);\r\n        })\r\n\r\n        const points = {\r\n            ptsAwarded : quizPts,\r\n            eventID : 2\r\n        }\r\n\r\n        // Insert points history\r\n        axios.post('http://localhost:8081/ptsHistory/' + this.state.studentID, points, config)\r\n        .then(res => {\r\n            console.log(res);\r\n            console.log(res.data);\r\n            window.alert(\"Points redeemed successfully\");\r\n           // this.props.isNewLevel.setState({ newLevel: true });\r\n            this.setState\r\n            window.location.reload();\r\n            this.handleClose();\r\n            \r\n            //here is when i want to fun a certain function on the front\r\n\r\n\r\n        })\r\n    }\r\n\r\n    render() {\r\n             \r\n        return (\r\n            <Fragment>  \r\n                <Modal show={this.props.showModalPopup} onHide={this.handleClose} id={this.props.level} \r\n                    size=\"lg\" aria-labelledby=\"contained-modal-title-vcenter\" centered>  \r\n                    <Modal.Header closeButton>  \r\n                        <Modal.Title id=\"sign-in-title\">  \r\n                            Level {this.props.level}\r\n                         </Modal.Title>  \r\n                    </Modal.Header>  \r\n                    <Modal.Body>  \r\n                        <hr />  \r\n                        <div className=\"Quiz\"> \r\n                        <div>Points : {this.props.point} </div>\r\n                        <Button onClick={this.handleComplete} >Complete</Button>\r\n                        </div>  \r\n                    </Modal.Body>  \r\n                </Modal >  \r\n            </Fragment >  \r\n        )\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}