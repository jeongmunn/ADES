{"ast":null,"code":"import _classCallCheck from\"/Users/isaactan17/Desktop/ADES/frontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/isaactan17/Desktop/ADES/frontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/isaactan17/Desktop/ADES/frontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/isaactan17/Desktop/ADES/frontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import axios from'axios';import{Link}from'react-router-dom';import{getStorage,ref,uploadBytes,getDownloadURL}from\"firebase/storage\";import Button from'react-bootstrap/Button';import'../css/Table&Add.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var BadgeAdmin=/*#__PURE__*/function(_React$Component){_inherits(BadgeAdmin,_React$Component);var _super=_createSuper(BadgeAdmin);function BadgeAdmin(){var _this;_classCallCheck(this,BadgeAdmin);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={data:[],class:[],name:'',requirements:'',pic_url:'',badgeClassID:''};_this.handleName=function(event){_this.setState({name:event.target.value});};_this.handleRequirement=function(event){_this.setState({requirements:event.target.value});};_this.handleURL=function(event){_this.setState({pic_url:event.target.files[0]});};_this.handleSubmit=function(event){event.preventDefault();//data extraction (combining data)\n// file upload\nvar storage=getStorage();var storageRef=ref(storage,'img/'+_this.state.pic_url.name);var file=_this.state.pic_url;// Create file metadata including the content type\n/** @type {any} */var metadata={contentType:_this.state.pic_url.type};uploadBytes(storageRef,file,metadata);getDownloadURL(storageRef).then(function(downloadURL){console.log('File available at',downloadURL);var bcID=document.getElementById(\"dropDown\");var bID=bcID.value;var badgeClassID=parseInt(bID);console.log(badgeClassID+\"classBADGE\");var badge={name:_this.state.name,requirements:_this.state.requirements,pic_url:downloadURL,badgeClassID:badgeClassID};console.log(\"BADGEEEE\"+JSON.stringify(badge));var config={headers:{'content-type':'application/json'}};axios.post('http://localhost:8081/newBadge',badge,config).then(function(res){console.log(res);console.log(res.data);window.location.reload();});});};return _this;}_createClass(BadgeAdmin,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get(\"http://localhost:8081/badges\").then(function(res){console.log(res.data.length);_this2.setState({data:res.data});});axios.get(\"http://localhost:8081/badgeClass\").then(function(res){console.log(res.data.length);_this2.setState({class:res.data});});}},{key:\"render\",value:function render(){var data=this.state.data;var data2=this.state.class;return/*#__PURE__*/_jsx(\"div\",{id:\"body\",children:/*#__PURE__*/_jsxs(\"div\",{id:\"div\",children:[/*#__PURE__*/_jsx(\"h1\",{style:{fontFamily:\"sans-serif \",color:'blue'},children:\"Badges Administration\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"viewBadges\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"divForm\",children:[/*#__PURE__*/_jsx(\"h2\",{id:\"add\",children:\"Add Badge\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.handleSubmit,id:\"form\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Badge Name:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",onChange:this.handleName})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Badge Requirement:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"requirements\",onChange:this.handleRequirement})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Pic URL:\",/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"pic_url\",onChange:this.handleURL})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Badge Class ID:\",/*#__PURE__*/_jsxs(\"select\",{name:\"badgeClassID\",onChange:this.handleBadgeClassID,id:\"dropDown\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"Air\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:\"Water\"}),/*#__PURE__*/_jsx(\"option\",{value:\"3\",children:\"Fire\"}),/*#__PURE__*/_jsx(\"option\",{value:\"4\",children:\"Geo\"})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Add\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[\" \",/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Badge Class\"}),/*#__PURE__*/_jsxs(\"table\",{class:\"table\",children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Class Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Describtion \"})]}),data2&&data2.map(function(item){return/*#__PURE__*/_jsxs(\"tr\",{id:\"tableRow\",class:\"spaceUnder\",children:[/*#__PURE__*/_jsx(\"td\",{children:item.className}),/*#__PURE__*/_jsx(\"td\",{children:item.classDescription})]});})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"View Badges\"}),/*#__PURE__*/_jsxs(\"table\",{class:\"table\",children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Badge Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Requirements\"}),/*#__PURE__*/_jsx(\"th\",{children:\"badgeClass\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Picture\"})]}),data&&data.map(function(item2){return/*#__PURE__*/_jsxs(\"tr\",{id:\"tableRow\",class:\"spaceUnder\",children:[/*#__PURE__*/_jsx(\"td\",{children:item2.name}),/*#__PURE__*/_jsx(\"td\",{children:item2.requirements}),/*#__PURE__*/_jsx(\"td\",{children:item2.className}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{src:item2.pic_url,style:{height:200,width:200},alt:\"\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Link,{to:\"/EditBadge?id=\".concat(item2.badgeID),children:/*#__PURE__*/_jsx(Button,{children:\"Edit\"})})})]},item2.badgeID);})]})]})]})]})});}}]);return BadgeAdmin;}(React.Component);export{BadgeAdmin as default};","map":{"version":3,"sources":["/Users/isaactan17/Desktop/ADES/frontEnd/src/components/BadgeAdmin.js"],"names":["React","axios","Link","getStorage","ref","uploadBytes","getDownloadURL","Button","BadgeAdmin","state","data","class","name","requirements","pic_url","badgeClassID","handleName","event","setState","target","value","handleRequirement","handleURL","files","handleSubmit","preventDefault","storage","storageRef","file","metadata","contentType","type","then","downloadURL","console","log","bcID","document","getElementById","bID","parseInt","badge","JSON","stringify","config","headers","post","res","window","location","reload","get","length","data2","fontFamily","color","handleBadgeClassID","map","item","className","classDescription","item2","height","width","badgeID","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport { getStorage, ref, uploadBytes, getDownloadURL } from \"firebase/storage\";\nimport Button from 'react-bootstrap/Button';\nimport '../css/Table&Add.css';\n\n\nexport default class BadgeAdmin extends React.Component {\n  state = {\n    data: [],\n    class: [],\n    name: '',\n    requirements: '',\n    pic_url: '',\n    badgeClassID: ''\n  }\n\n  componentDidMount() {\n    axios.get(`http://localhost:8081/badges`)\n      .then(res => {\n        console.log(res.data.length);\n\n        this.setState({ data: res.data });\n      })\n\n    axios.get(`http://localhost:8081/badgeClass`)\n      .then(res => {\n        console.log(res.data.length);\n\n        this.setState({ class: res.data });\n      })\n  }\n\n\n  handleName = event => {\n    this.setState({ name: event.target.value });\n  }\n\n  handleRequirement = event => {\n    this.setState({ requirements: event.target.value });\n  }\n\n \n\n  handleURL = event => {\n    this.setState({ pic_url: event.target.files[0], });\n  }\n\n  handleSubmit = event => {\n    event.preventDefault();\n    //data extraction (combining data)\n    // file upload\n    const storage = getStorage();\n    const storageRef = ref(storage, 'img/' + this.state.pic_url.name);\n    var file = this.state.pic_url;\n    // Create file metadata including the content type\n    /** @type {any} */\n    const metadata = {\n      contentType: this.state.pic_url.type,\n    };\n   \n    uploadBytes(storageRef, file, metadata);\n\n    getDownloadURL(storageRef).then((downloadURL) => {\n      console.log('File available at', downloadURL);\n\n      var bcID = document.getElementById(\"dropDown\");\n      var bID = bcID.value;\n      var badgeClassID = parseInt(bID);\n      console.log(badgeClassID + \"classBADGE\")\n      const badge = {\n        name: this.state.name,\n        requirements: this.state.requirements,\n        pic_url: downloadURL,\n        badgeClassID: badgeClassID\n      };\n      console.log(\"BADGEEEE\" + JSON.stringify(badge))\n\n      const config = {\n        headers: {\n          'content-type': 'application/json'\n        }\n      }\n      axios.post('http://localhost:8081/newBadge', badge, config)\n        .then(res => {\n          console.log(res);\n          console.log(res.data);\n          window.location.reload();\n        })\n    });\n  }\n\n  render() {\n    const data = this.state.data;\n    const data2 = this.state.class;\n    return (\n\n      <div id=\"body\">\n        <div id=\"div\">\n          <h1 style={{ fontFamily: \"sans-serif \", color: 'blue' }}>Badges Administration</h1>\n          <div className=\"viewBadges\">\n            <div id=\"divForm\">\n              <h2 id=\"add\">Add Badge</h2>\n              <form onSubmit={this.handleSubmit} id=\"form\" >\n                <label>\n                  Badge Name:\n                  <input type=\"text\" name=\"name\" onChange={this.handleName} />\n                </label>\n                <br/>\n                <label>\n                  Badge Requirement:\n                  <input type=\"text\" name=\"requirements\" onChange={this.handleRequirement} />\n                </label>\n                <br/>\n                <label>\n                  Pic URL:\n                  <input type=\"file\" name=\"pic_url\" onChange={this.handleURL} />\n                </label>\n                {/* Please remember to change and do JOIN table for it to not display as ID */}\n                <br/>\n                <label>\n                  Badge Class ID:\n                  <select name=\"badgeClassID\" onChange={this.handleBadgeClassID} id=\"dropDown\">\n                    <option value=\"1\">Air</option>\n                    <option value=\"2\">Water</option>\n                    <option value=\"3\">Fire</option>\n                    <option value=\"4\">Geo</option>\n                  </select>\n                  {/* <input type=\"text\" name=\"badgeClassID\" onChange={this.handleBadgeClassID} /> */}\n                </label>\n                <button  type=\"submit\">Add</button>\n              </form>\n            </div>\n\n            <div> <div>\n              <h2>Badge Class</h2>\n              <table class=\"table\">\n                <tr>\n                  <th>Class Name</th>\n                  <th>Describtion </th>\n\n                </tr>\n                {data2 && data2.map(item =>\n                  <tr id='tableRow' class=\"spaceUnder\">\n                    <td>{item.className}</td>\n                    <td>{item.classDescription}</td>\n\n                  </tr>\n                )}\n              </table>\n            </div></div>\n            <div>\n              <h2>View Badges</h2>\n              <table class=\"table\">\n                <tr>\n                  <th>Badge Name</th>\n                  <th>Requirements</th>\n                  <th>badgeClass</th>\n                  <th>Picture</th>\n                </tr>\n                {data && data.map(item2 =>\n                  <tr key={item2.badgeID} id='tableRow' class=\"spaceUnder\">\n                    <td>{item2.name}</td>\n                    <td>{item2.requirements}</td>\n                    <td>{item2.className}</td>\n                    <td><img src={item2.pic_url} style={{ height: 200, width: 200 }} alt=\"\"></img></td>\n                    <td><Link to={`/EditBadge?id=${item2.badgeID}`}>\n                      <Button>Edit</Button>\n                    </Link>\n                    </td>\n                  </tr>\n                )}\n              </table>\n            </div>\n\n          </div>\n        </div>\n      </div>\n    )\n  }\n}"]},"metadata":{},"sourceType":"module"}