{"ast":null,"code":"var _jsxFileName = \"/Users/isaactan17/Desktop/ADES/frontEnd/src/components/SignIn.js\",\n    _s = $RefreshSig$();\n\nimport '../SignIn.css';\nimport { createUserWithEmailAndPassword, sendPasswordResetEmail, signInWithEmailAndPassword } from \"firebase/auth\";\nimport { auth } from '../firebase.js';\nimport { useNavigate } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport React, { useState } from 'react'; // import TabPanel from '@mui/lab/TabPanel';\n\nimport Button from '@mui/material/Button';\nimport Typography from '@mui/material/Typography';\nimport Tabs from '@mui/material/Tabs';\nimport Tab from '@mui/material/Tab';\nimport Box from '@mui/material/Box';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction TabPanel(props) {\n  const {\n    children,\n    value,\n    index,\n    ...other\n  } = props;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    role: \"tabpanel\",\n    hidden: value !== index,\n    id: `simple-tabpanel-${index}`,\n    \"aria-labelledby\": `simple-tab-${index}`,\n    ...other,\n    children: value === index && /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        p: 3\n      },\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        children: children\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 7\n  }, this);\n}\n\n_c = TabPanel;\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.number.isRequired,\n  value: PropTypes.number.isRequired\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `simple-tab-${index}`,\n    'aria-controls': `simple-tabpanel-${index}`\n  };\n}\n\nconst SignIn = () => {\n  _s();\n\n  const [registerEmail, setRegisterEmail] = useState(\"\");\n  const [registerPassword, setRegisterPassword] = useState(\"\");\n  const [loginEmail, setLoginEmail] = useState(\"\");\n  const [loginPassword, setLoginPassword] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [value, setValue] = useState('one');\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  let navigate = useNavigate();\n\n  const register = async () => {\n    try {\n      const user = await createUserWithEmailAndPassword(auth, registerEmail, registerPassword);\n      const config = {\n        headers: {\n          'content-type': 'application/json'\n        }\n      };\n      var dateData = JSON.stringify(user.user.metadata.createdAt);\n      dateData = parseInt(JSON.parse(dateData));\n      const personalDetails = {\n        name: JSON.parse(JSON.stringify(user.user.email)),\n        Uid: JSON.parse(JSON.stringify(user.user.uid)),\n        streaks: 0,\n        totalPts: 0,\n        mazeLvl: 1,\n        redeemedPts: 0,\n        type: 1,\n        lastLogin: dateData\n      };\n      axios.post('http://localhost:8081/api/newStudent', personalDetails, config).then(res => {\n        console.log(res);\n        console.log(res.data);\n        navigate('/studentDashboard');\n      });\n    } catch (error) {\n      const errorCode = error.code;\n      const errorMessage = error.message;\n      console.log(JSON.stringify(errorCode));\n      console.log(JSON.stringify(errorMessage));\n    }\n  };\n\n  const login = async () => {\n    try {\n      const user = await signInWithEmailAndPassword(auth, loginEmail, loginPassword);\n      const config = {\n        headers: {\n          'content-type': 'application/json'\n        }\n      };\n      var uid = JSON.parse(JSON.stringify(user.user.uid));\n      axios.get(`http://localhost:8081/api/userType/` + uid, config).then(res => {\n        if (res.data.type == 1) {\n          navigate('/studentDashboard');\n        } else if (res.data.type == 2) {\n          navigate('/teacherAdmin');\n        } else {\n          navigate('/');\n        }\n      });\n    } catch (error) {\n      const errorCode = error.code;\n      const errorMessage = error.message;\n      console.log(JSON.stringify(errorCode));\n      console.log(JSON.stringify(errorMessage));\n    }\n  };\n\n  const forgotPassword = async () => {\n    try {\n      const user = await sendPasswordResetEmail(auth, email);\n    } catch (error) {\n      const errorCode = error.code;\n      const errorMessage = error.message;\n      console.log(JSON.stringify(errorCode));\n      console.log(JSON.stringify(errorMessage));\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"signin\",\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        borderBottom: 1,\n        borderColor: 'divider'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Tabs, {\n        value: value,\n        onChange: handleChange,\n        textColor: \"secondary\",\n        indicatorColor: \"secondary\",\n        \"aria-label\": \"secondary tabs example\",\n        centered: true,\n        children: [/*#__PURE__*/_jsxDEV(Tab, {\n          value: \"one\",\n          label: \"Sign In\",\n          ...a11yProps(0)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Tab, {\n          value: \"two\",\n          label: \"Sign Up\",\n          ...a11yProps(1)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Tab, {\n          value: \"three\",\n          label: \"Forgot Password\",\n          ...a11yProps(2)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n        value: value,\n        index: 0,\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Sign in\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 17\n        }, this), \"                \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n        value: value,\n        index: 1,\n        children: \"Item Two\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TabPanel, {\n        value: value,\n        index: 2,\n        children: \"Item Three\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      placeholder: \"email\",\n      type: \"email\",\n      onChange: event => {\n        setLoginEmail(event.target.value);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      placeholder: \"password\",\n      type: \"password\",\n      onChange: event => {\n        setLoginPassword(event.target.value);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"outlined\",\n      onClick: login,\n      children: \" Sign In\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Sign up\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      placeholder: \"email\",\n      type: \"email\",\n      onChange: event => {\n        setRegisterEmail(event.target.value);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      placeholder: \"password\",\n      type: \"password\",\n      onChange: event => {\n        setRegisterPassword(event.target.value);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"outlined\",\n      onClick: register,\n      children: \"Sign Up\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Forgot Password\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      placeholder: \"email\",\n      type: \"email\",\n      onChange: event => {\n        setEmail(event.target.value);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"outlined\",\n      onClick: forgotPassword,\n      children: \"Forgot Password\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 151,\n    columnNumber: 9\n  }, this);\n};\n\n_s(SignIn, \"kRalvmcrmVHT/dH0KVF6IFQ+OcM=\", false, function () {\n  return [useNavigate];\n});\n\n_c2 = SignIn;\nexport default SignIn;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"TabPanel\");\n$RefreshReg$(_c2, \"SignIn\");","map":{"version":3,"sources":["/Users/isaactan17/Desktop/ADES/frontEnd/src/components/SignIn.js"],"names":["createUserWithEmailAndPassword","sendPasswordResetEmail","signInWithEmailAndPassword","auth","useNavigate","PropTypes","React","useState","Button","Typography","Tabs","Tab","Box","axios","TabPanel","props","children","value","index","other","p","propTypes","node","number","isRequired","a11yProps","id","SignIn","registerEmail","setRegisterEmail","registerPassword","setRegisterPassword","loginEmail","setLoginEmail","loginPassword","setLoginPassword","email","setEmail","setValue","handleChange","event","newValue","navigate","register","user","config","headers","dateData","JSON","stringify","metadata","createdAt","parseInt","parse","personalDetails","name","Uid","uid","streaks","totalPts","mazeLvl","redeemedPts","type","lastLogin","post","then","res","console","log","data","error","errorCode","code","errorMessage","message","login","get","forgotPassword","borderBottom","borderColor","target"],"mappings":"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","sourcesContent":["import '../SignIn.css';\nimport {\n    createUserWithEmailAndPassword,\n    sendPasswordResetEmail,\n    signInWithEmailAndPassword\n} from \"firebase/auth\";\nimport { auth } from '../firebase.js';\nimport { useNavigate } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport React, { useState } from 'react';\n// import TabPanel from '@mui/lab/TabPanel';\nimport Button from '@mui/material/Button';\nimport Typography from '@mui/material/Typography';\nimport Tabs from '@mui/material/Tabs';\nimport Tab from '@mui/material/Tab';\nimport Box from '@mui/material/Box';\nimport axios from 'axios';\n\nfunction TabPanel(props) {\n    const { children, value, index, ...other } = props;\n  \n    return (\n      <div\n        role=\"tabpanel\"\n        hidden={value !== index}\n        id={`simple-tabpanel-${index}`}\n        aria-labelledby={`simple-tab-${index}`}\n        {...other}\n      >\n        {value === index && (\n          <Box sx={{ p: 3 }}>\n            <Typography>{children}</Typography>\n          </Box>\n        )}\n      </div>\n    );\n  }\n  \n  TabPanel.propTypes = {\n    children: PropTypes.node,\n    index: PropTypes.number.isRequired,\n    value: PropTypes.number.isRequired,\n  };\n  \n  function a11yProps(index) {\n    return {\n      id: `simple-tab-${index}`,\n      'aria-controls': `simple-tabpanel-${index}`,\n    };\n  }\n  \n\n\nconst SignIn = () => {\n    const [registerEmail, setRegisterEmail] = useState(\"\");\n    const [registerPassword, setRegisterPassword] = useState(\"\");\n    const [loginEmail, setLoginEmail] = useState(\"\");\n    const [loginPassword, setLoginPassword] = useState(\"\");\n    const [email, setEmail] = useState(\"\");\n    const [value, setValue] = useState('one');\n\n    const handleChange = (event, newValue) => {\n        setValue(newValue);\n    };\n    let navigate = useNavigate();\n\n    const register = async () => {\n        try {\n            const user = await createUserWithEmailAndPassword(\n                auth,\n                registerEmail,\n                registerPassword\n            );\n            const config = {\n                headers: {\n                    'content-type': 'application/json'\n                }\n            }\n\n            var dateData = JSON.stringify(user.user.metadata.createdAt);\n            dateData = parseInt(JSON.parse(dateData));\n            const personalDetails = {\n                name: JSON.parse(JSON.stringify(user.user.email)),\n                Uid: JSON.parse(JSON.stringify(user.user.uid)),\n                streaks: 0,\n                totalPts: 0,\n                mazeLvl: 1,\n                redeemedPts: 0,\n                type: 1,\n                lastLogin: dateData\n            };\n            axios.post('http://localhost:8081/api/newStudent', personalDetails, config)\n                .then(res => {\n                    console.log(res);\n                    console.log(res.data);\n                    navigate('/studentDashboard');\n                })\n        } catch (error) {\n            const errorCode = error.code;\n            const errorMessage = error.message;\n            console.log(JSON.stringify(errorCode));\n            console.log(JSON.stringify(errorMessage));\n        }\n    };\n\n    const login = async () => {\n        try {\n            const user = await signInWithEmailAndPassword(\n                auth,\n                loginEmail,\n                loginPassword\n            );\n            const config = {\n                headers: {\n                    'content-type': 'application/json'\n                }\n            }\n            var uid = JSON.parse(JSON.stringify(user.user.uid));\n            axios.get(`http://localhost:8081/api/userType/` + uid, config)\n                .then(res => {\n                    if (res.data.type == 1) {\n                        navigate('/studentDashboard');\n                    } else if (res.data.type == 2) {\n                        navigate('/teacherAdmin');\n                    } else {\n                        navigate('/');\n                    }\n                })\n        } catch (error) {\n            const errorCode = error.code;\n            const errorMessage = error.message;\n            console.log(JSON.stringify(errorCode));\n            console.log(JSON.stringify(errorMessage));\n        }\n    };\n\n    const forgotPassword = async () => {\n        try {\n            const user = await sendPasswordResetEmail(\n                auth,\n                email);\n        } catch (error) {\n            const errorCode = error.code;\n            const errorMessage = error.message;\n            console.log(JSON.stringify(errorCode));\n            console.log(JSON.stringify(errorMessage));\n        }\n    };\n\n    return (\n        <div className=\"signin\">\n\n            <Box sx={{ borderBottom: 1, borderColor: 'divider' }}>\n                <Tabs\n                    value={value}\n                    onChange={handleChange}\n                    textColor=\"secondary\"\n                    indicatorColor=\"secondary\"\n                    aria-label=\"secondary tabs example\"\n                    centered\n                >\n                    <Tab value=\"one\" label=\"Sign In\" {...a11yProps(0)}/>\n                    <Tab value=\"two\" label=\"Sign Up\" {...a11yProps(1)}/>\n                    <Tab value=\"three\" label=\"Forgot Password\" {...a11yProps(2)}/>\n                </Tabs>\n                <TabPanel value={value} index={0}>\n                <h1>Sign in</h1>                </TabPanel>\n                <TabPanel value={value} index={1}>\n                    Item Two\n                </TabPanel>\n                <TabPanel value={value} index={2}>\n                    Item Three\n                </TabPanel>\n            </Box>\n            \n            <input placeholder=\"email\" type=\"email\" onChange={(event) => {\n                setLoginEmail(event.target.value);\n            }} />\n            <input placeholder=\"password\" type=\"password\" onChange={(event) => {\n                setLoginPassword(event.target.value);\n            }} />\n            <Button variant=\"outlined\" onClick={login}> Sign In</Button>\n\n            <h1>Sign up</h1>\n            <input placeholder=\"email\" type=\"email\" onChange={(event) => {\n                setRegisterEmail(event.target.value);\n            }} />\n            <input placeholder=\"password\" type=\"password\" onChange={(event) => {\n                setRegisterPassword(event.target.value);\n            }} />\n            <Button variant=\"outlined\" onClick={register}>Sign Up</Button>\n\n            <h1>Forgot Password</h1>\n            <input placeholder=\"email\" type=\"email\" onChange={(event) => {\n                setEmail(event.target.value);\n            }} />\n            <Button variant=\"outlined\" onClick={forgotPassword}>Forgot Password</Button>\n        </div>\n    )\n}\nexport default SignIn;\n"]},"metadata":{},"sourceType":"module"}