{"ast":null,"code":"import _classCallCheck from\"C:/Users/khadi/OneDrive/Documents/GitHub/ADES/frontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/khadi/OneDrive/Documents/GitHub/ADES/frontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/khadi/OneDrive/Documents/GitHub/ADES/frontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/khadi/OneDrive/Documents/GitHub/ADES/frontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import axios from'axios';import wisp from'../img/wisp.png';import cloud1 from'../img/cloud1.png';import cloud2 from'../img/cloud2.png';import cloud3 from'../img/cloud3.png';import cloud4 from'../img/cloud4.png';import cloud5 from'../img/cloud5.png';import cloud6 from'../img/cloud6.png';import cloud7 from'../img/cloud7.png';import cloud8 from'../img/cloud8.png';import MazePopup from'./MazePopup';import'../css/maze.css';import moment from'moment';import{signOut}from\"firebase/auth\";import{auth}from'../firebase.js';import{store}from'react-notifications-component';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MapOfMaze=/*#__PURE__*/function(_React$Component){_inherits(MapOfMaze,_React$Component);var _super=_createSuper(MapOfMaze);function MapOfMaze(){var _this;_classCallCheck(this,MapOfMaze);_this=_super.call(this);_this.ableMaze=function(mazeLvl){var cloudLvl=parseInt(mazeLvl);if(cloudLvl>0){document.getElementById(\"cloud2img\").style.filter=\"unset\";document.getElementById('cloud2').style.pointerEvents='unset';}if(cloudLvl>1){document.getElementById(\"cloud3img\").style.filter=\"unset\";document.getElementById('cloud3').style.pointerEvents='unset';}if(cloudLvl>2){document.getElementById(\"cloud4img\").style.filter=\"unset\";document.getElementById('cloud4').style.pointerEvents='unset';}if(cloudLvl>3){document.getElementById(\"cloud5img\").style.filter=\"unset\";document.getElementById('cloud5').style.pointerEvents='unset';}if(cloudLvl>4){document.getElementById(\"cloud6img\").style.filter=\"unset\";document.getElementById('cloud6').style.pointerEvents='unset';}if(cloudLvl>5){document.getElementById(\"cloud7img\").style.filter=\"unset\";document.getElementById('cloud7').style.pointerEvents='unset';}if(cloudLvl>6){document.getElementById(\"cloud8img\").style.filter=\"unset\";document.getElementById('cloud8').style.pointerEvents='unset';}};_this.studentLevel=function(callback){axios.get(\"https://ades-ca1-project.herokuapp.com/api/mapOfMaze/\"+_this.state.id).then(function(res){_this.setState({maze:res.data[0].mazeLvl});var mazeLvl=JSON.stringify(_this.state.maze);_this.ableMaze(mazeLvl);_this.setState({isNewLevel:false});callback(mazeLvl);});};_this.mazeAnimation=function(status){if(status===false){_this.studentLevel(function(mazeLvl){if(mazeLvl>0){lvl1(mazeLvl);}else{}});}else{_this.studentLevel(function(mazeLvl){var updated=parseInt(mazeLvl);if(updated===1){lvl1(mazeLvl);}else if(updated===2){lvl2(mazeLvl);}else if(updated===3){lvl3(mazeLvl);}else if(updated===4){lvl4(mazeLvl);}else if(updated===5){lvl5(mazeLvl);}else if(updated===6){lvl6(mazeLvl);}else if(updated===7){lvl7(mazeLvl);}else if(updated===8){lvl8(mazeLvl);}});}function lvl1(mazeLvl){var id=null;var elem=document.getElementById(\"animate\");var pos=0;clearInterval(id);id=setInterval(frame,50);function frame(){if(pos===12){clearInterval(id);if(mazeLvl>1){setTimeout(lvl2(mazeLvl),2);}}else{pos++;elem.style.top=pos+\"%\";elem.style.left=pos+\"%\";}}}function lvl2(mazeLvl){var id=null;var elem=document.getElementById(\"animate\");var pos=12;elem.style.left=pos+\"%\";clearInterval(id);id=setInterval(frame,50);function frame(){if(pos===50){clearInterval(id);console.log(mazeLvl);if(mazeLvl>2){setTimeout(lvl3(mazeLvl),2);}}else{pos++;elem.style.top=pos+\"%\";}}}function lvl3(mazeLvl){var id=null;var elem=document.getElementById(\"animate\");var posT=50;var posL=12;clearInterval(id);id=setInterval(frame,50);function frame(){if(posL===30){clearInterval(id);if(mazeLvl>3){setTimeout(lvl4(mazeLvl),2);}}else{posT++;posL++;elem.style.top=posT+\"%\";elem.style.left=posL+\"%\";}}}function lvl4(mazeLvl){var id=null;var elem=document.getElementById(\"animate\");var posT=68;var posL=30;clearInterval(id);id=setInterval(frame,50);function frame(){if(posL===50){clearInterval(id);if(mazeLvl>4){setTimeout(lvl5(mazeLvl),2);}}else{posT-=3;posL++;elem.style.top=posT+\"%\";elem.style.left=posL+\"%\";}}}function lvl5(mazeLvl){var id=null;var elem=document.getElementById(\"animate\");var posT=8;var posL=50;elem.style.left=posL+\"%\";clearInterval(id);id=setInterval(frame,50);function frame(){if(posT===60){clearInterval(id);if(mazeLvl>5){setTimeout(lvl6(mazeLvl),2);}}else{posT++;posL++;elem.style.top=posT+\"%\";}}}function lvl6(mazeLvl){var id=null;var elem=document.getElementById(\"animate\");var posT=60;var posL=50;elem.style.top=posT+\"%\";elem.style.left=posL+\"%\";clearInterval(id);id=setInterval(frame,50);function frame(){if(posT===10){clearInterval(id);if(mazeLvl>6){setTimeout(lvl7(mazeLvl),2);}}else{posT-=2;posL++;elem.style.top=posT+\"%\";elem.style.left=posL+\"%\";}}}function lvl7(mazeLvl){var id=null;var elem=document.getElementById(\"animate\");var posT=10;var posL=75;elem.style.top=posT+\"%\";elem.style.left=posL+\"%\";clearInterval(id);id=setInterval(frame,50);function frame(){if(posT===50){clearInterval(id);if(mazeLvl>7){setTimeout(lvl8(mazeLvl),2);}}else{posT++;elem.style.top=posT+\"%\";}}}function lvl8(){var id=null;var elem=document.getElementById(\"animate\");var posT=50;var posL=75;elem.style.top=posT+\"%\";elem.style.left=posL+\"%\";clearInterval(id);id=setInterval(frame,50);function frame(){if(posL===85){clearInterval(id);}else{posT+=2;posL++;elem.style.top=posT+\"%\";elem.style.left=posL+\"%\";}}}};_this.isShowPopup=function(status,levels){if(parseInt(_this.state.maze)>=levels){_this.setState({showModalPopup:false});window.alert(\"Level Already completed!\");}else{_this.setState({showModalPopup:status});_this.setState({level:levels});axios.get(\"https://ades-ca1-project.herokuapp.com/api/maze/\".concat(levels)).then(function(res){_this.setState({points:res.data[0].points});});}};_this.handleNewLevel=function(status){_this.setState({isNewLevel:status});};_this.state={showModalPopup:false,isNewLevel:false,level:0,points:0,maze:0,currentDate:'',setCurrentDate:'',uid:'',id:0};return _this;}_createClass(MapOfMaze,[{key:\"notiLevelUpSuccess\",value:function notiLevelUpSuccess(){store.addNotification({title:\"Success\",message:\"Congratulations! You've successfully redeemed!\",type:\"success\",insert:\"top\",container:\"top-center\",animationIn:[\"animated\",\"fadeIn\"],animationOut:[\"animated\",\"fadeOut\"],dismiss:{duration:2000},dismissable:{click:true}});}},{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;auth.onAuthStateChanged(function(user){if(user){console.log(\"User is Signed IN \");_this2.setState({uid:user.uid});var config={headers:{'content-type':'application/json'}};axios.get(\"https://ades-ca1-project.herokuapp.com/api/userType/\"+_this2.state.uid,config).then(function(res){if(res.data.type===1){_this2.setState({id:res.data.studentID});// area to put your axios with the student id\n//call maze animation\n_this2.mazeAnimation(false);}else if(res.data.type===2){window.location.replace('https://ades-ca1-project.herokuapp.com/quizment/teacherDashboard');}else{window.location.replace('https://ades-ca1-project.herokuapp.com/quizment');}});}else{console.log(\"THERE IS NO USER\");signOut(auth);window.location.replace('https://ades-ca1-project.herokuapp.com/quizment');}});var queryString=window.location.search;console.log(queryString+\"QUERY STRING\");var todayDate=moment().format('DD/MM/YYYY, hh:mm a');var colours=[['#ffc7ae','#f6b18a','#fc82b2'],['#4C669F','#37528d','#101d42'],['#fffbb6','#fffbb6','#ffd68a'],['#fffbc6','#b0e8ff'],['#dff4ff','#9cdbff']];var minTimer=moment(todayDate.slice(12,20),'h:mm a').diff(moment().startOf('day'),'minutes');var gradientColour;var elem=document.getElementById(\"container\");//setting background colour according to time\nif(minTimer>=1170){gradientColour=colours[1];//works\nelem.style.background=\"linear-gradient(\"+gradientColour+\")\";}else if(minTimer>=1110){gradientColour=colours[0];elem.style.background=\"linear-gradient(\"+gradientColour+\")\";}else if(minTimer>=660){gradientColour=colours[4];//works\nelem.style.background=\"linear-gradient(\"+gradientColour+\")\";}else if(minTimer>=480){gradientColour=colours[3];//works\nelem.style.background=\"linear-gradient(\"+gradientColour+\")\";}else if(minTimer>=410){gradientColour=colours[2];elem.style.background=\"linear-gradient(\"+gradientColour+\")\";}else{gradientColour=colours[1];//works\nelem.style.background=\"linear-gradient(\"+gradientColour+\")\";}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState){if(prevState.isNewLevel!==this.state.isNewLevel&&prevState.isNewLevel===false&&this.state.isNewLevel===true){//THERE IS A CHANGE\nthis.mazeAnimation(true);}}//enabling the clouds\n},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/_jsxs(\"div\",{id:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bgclouds\"}),/*#__PURE__*/_jsxs(\"div\",{id:\"maze\",children:[/*#__PURE__*/_jsx(\"p\",{id:\"title\",children:\"Map Of Maze\"}),/*#__PURE__*/_jsx(\"div\",{id:\"cloud1\",className:\"cloud\",onClick:function onClick(){return _this3.isShowPopup(true,1);},children:/*#__PURE__*/_jsx(\"img\",{id:\"cloud1img\",alt:\"\",src:cloud1})}),/*#__PURE__*/_jsx(\"div\",{id:\"cloud2\",className:\"cloud\",onClick:function onClick(){return _this3.isShowPopup(true,2);},children:/*#__PURE__*/_jsx(\"img\",{id:\"cloud2img\",alt:\"\",src:cloud2})}),/*#__PURE__*/_jsx(\"div\",{id:\"cloud3\",className:\"cloud\",onClick:function onClick(){return _this3.isShowPopup(true,3);},children:/*#__PURE__*/_jsx(\"img\",{id:\"cloud3img\",alt:\"\",src:cloud3})}),/*#__PURE__*/_jsx(\"div\",{id:\"cloud4\",className:\"cloud\",onClick:function onClick(){return _this3.isShowPopup(true,4);},children:/*#__PURE__*/_jsx(\"img\",{id:\"cloud4img\",alt:\"\",src:cloud4})}),/*#__PURE__*/_jsx(\"div\",{id:\"cloud5\",className:\"cloud\",onClick:function onClick(){return _this3.isShowPopup(true,5);},children:/*#__PURE__*/_jsx(\"img\",{id:\"cloud5img\",alt:\"\",src:cloud5})}),/*#__PURE__*/_jsx(\"div\",{id:\"cloud6\",className:\"cloud\",onClick:function onClick(){return _this3.isShowPopup(true,6);},children:/*#__PURE__*/_jsx(\"img\",{id:\"cloud6img\",alt:\"\",src:cloud6})}),/*#__PURE__*/_jsx(\"div\",{id:\"cloud7\",className:\"cloud\",onClick:function onClick(){return _this3.isShowPopup(true,7);},children:/*#__PURE__*/_jsx(\"img\",{id:\"cloud7img\",alt:\"\",src:cloud7})}),/*#__PURE__*/_jsx(\"div\",{id:\"cloud8\",className:\"cloud\",onClick:function onClick(){return _this3.isShowPopup(true,8);},children:/*#__PURE__*/_jsx(\"img\",{id:\"cloud8img\",alt:\"\",src:cloud8})}),/*#__PURE__*/_jsx(\"div\",{id:\"animate\",children:/*#__PURE__*/_jsx(\"img\",{id:\"imgAnimate\",className:\"bounce\",alt:\"\",src:wisp})}),/*#__PURE__*/_jsxs(\"div\",{id:\"levelDisplay\",children:[/*#__PURE__*/_jsx(\"p\",{id:\"level\",children:this.state.maze}),/*#__PURE__*/_jsx(\"p\",{id:\"staticLevel\",children:\"Level\"})]})]}),/*#__PURE__*/_jsx(MazePopup,{showModalPopup:this.state.showModalPopup,onPopupClose:this.isShowPopup,level:this.state.level,point:this.state.points,onNewLevel:this.handleNewLevel,id:this.state.id})]});}}]);return MapOfMaze;}(React.Component);export{MapOfMaze as default};","map":{"version":3,"sources":["C:/Users/khadi/OneDrive/Documents/GitHub/ADES/frontEnd/src/components/MapOfMaze.js"],"names":["React","axios","wisp","cloud1","cloud2","cloud3","cloud4","cloud5","cloud6","cloud7","cloud8","MazePopup","moment","signOut","auth","store","MapOfMaze","ableMaze","mazeLvl","cloudLvl","parseInt","document","getElementById","style","filter","pointerEvents","studentLevel","callback","get","state","id","then","res","setState","maze","data","JSON","stringify","isNewLevel","mazeAnimation","status","lvl1","updated","lvl2","lvl3","lvl4","lvl5","lvl6","lvl7","lvl8","elem","pos","clearInterval","setInterval","frame","setTimeout","top","left","console","log","posT","posL","isShowPopup","levels","showModalPopup","window","alert","level","points","handleNewLevel","currentDate","setCurrentDate","uid","addNotification","title","message","type","insert","container","animationIn","animationOut","dismiss","duration","dismissable","click","onAuthStateChanged","user","config","headers","studentID","location","replace","queryString","search","todayDate","format","colours","minTimer","slice","diff","startOf","gradientColour","background","prevProps","prevState","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport wisp from '../img/wisp.png';\r\nimport cloud1 from '../img/cloud1.png';\r\nimport cloud2 from '../img/cloud2.png';\r\nimport cloud3 from '../img/cloud3.png';\r\nimport cloud4 from '../img/cloud4.png';\r\nimport cloud5 from '../img/cloud5.png';\r\nimport cloud6 from '../img/cloud6.png';\r\nimport cloud7 from '../img/cloud7.png';\r\nimport cloud8 from '../img/cloud8.png';\r\nimport MazePopup from './MazePopup';\r\nimport '../css/maze.css';\r\nimport moment from 'moment';\r\nimport { signOut } from \"firebase/auth\";\r\nimport { auth } from '../firebase.js';\r\nimport { store } from 'react-notifications-component';\r\n\r\nexport default class MapOfMaze extends React.Component {\r\n\r\n\r\n\r\n  constructor() {\r\n\r\n    super();\r\n    this.state = {\r\n      showModalPopup: false,\r\n      isNewLevel: false,\r\n      level: 0,\r\n      points: 0,\r\n      maze: 0,\r\n      currentDate: '',\r\n      setCurrentDate: '',\r\n      uid: '',\r\n      id: 0\r\n    }\r\n  }\r\n  notiLevelUpSuccess() {\r\n    store.addNotification({\r\n      title: \"Success\",\r\n      message: \"Congratulations! You've successfully redeemed!\",\r\n      type: \"success\",\r\n      insert: \"top\",\r\n      container: \"top-center\",\r\n      animationIn: [\"animated\", \"fadeIn\"],\r\n      animationOut: [\"animated\", \"fadeOut\"],\r\n      dismiss: { duration: 2000 },\r\n      dismissable: { click: true }\r\n    });\r\n  }\r\n  componentDidMount() {\r\n    auth.onAuthStateChanged((user) => {\r\n      if (user) {\r\n        console.log(\"User is Signed IN \");\r\n        this.setState({ uid: user.uid });\r\n        const config = {\r\n          headers: {\r\n            'content-type': 'application/json'\r\n          }\r\n        }\r\n\r\n        axios.get(`https://ades-ca1-project.herokuapp.com/api/userType/` + this.state.uid, config)\r\n          .then(res => {\r\n            if (res.data.type === 1) {\r\n              this.setState({ id: res.data.studentID })\r\n              // area to put your axios with the student id\r\n              //call maze animation\r\n              this.mazeAnimation(false)\r\n            } else if (res.data.type === 2) {\r\n              window.location.replace('https://ades-ca1-project.herokuapp.com/quizment/teacherDashboard');\r\n            } else {\r\n              window.location.replace('https://ades-ca1-project.herokuapp.com/quizment');\r\n            }\r\n          })\r\n      } else {\r\n        console.log(\"THERE IS NO USER\");\r\n        signOut(auth);\r\n        window.location.replace('https://ades-ca1-project.herokuapp.com/quizment');\r\n      }\r\n    });\r\n\r\n\r\n\r\n\r\n    const queryString = window.location.search;\r\n    console.log(queryString + \"QUERY STRING\");\r\n    let todayDate = moment().format('DD/MM/YYYY, hh:mm a');\r\n\r\n    const colours = [\r\n      ['#ffc7ae', '#f6b18a', '#fc82b2'],\r\n      ['#4C669F', '#37528d', '#101d42'],\r\n      ['#fffbb6', '#fffbb6', '#ffd68a'],\r\n      ['#fffbc6', '#b0e8ff'],\r\n      ['#dff4ff', '#9cdbff'],\r\n    ];\r\n\r\n\r\n    var minTimer = moment(todayDate.slice(12, 20), 'h:mm a').diff(moment().startOf('day'), 'minutes');\r\n    var gradientColour;\r\n    const elem = document.getElementById(\"container\");\r\n\r\n    //setting background colour according to time\r\n    if (minTimer >= 1170) {\r\n      gradientColour = colours[1]; //works\r\n      elem.style.background = \"linear-gradient(\" + gradientColour + \")\"\r\n    } else if (minTimer >= 1110) {\r\n      gradientColour = colours[0];\r\n      elem.style.background = \"linear-gradient(\" + gradientColour + \")\"\r\n    } else if (minTimer >= 660) {\r\n      gradientColour = colours[4]; //works\r\n      elem.style.background = \"linear-gradient(\" + gradientColour + \")\"\r\n    } else if (minTimer >= 480) {\r\n      gradientColour = colours[3]; //works\r\n      elem.style.background = \"linear-gradient(\" + gradientColour + \")\"\r\n    } else if (minTimer >= 410) {\r\n      gradientColour = colours[2];\r\n      elem.style.background = \"linear-gradient(\" + gradientColour + \")\"\r\n    } else {\r\n      gradientColour = colours[1]; //works\r\n      elem.style.background = \"linear-gradient(\" + gradientColour + \")\"\r\n    }\r\n\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n\r\n    if (prevState.isNewLevel !== this.state.isNewLevel && prevState.isNewLevel === false && this.state.isNewLevel === true) {\r\n      //THERE IS A CHANGE\r\n      this.mazeAnimation(true);\r\n    }\r\n  }\r\n\r\n  //enabling the clouds\r\n  ableMaze = (mazeLvl) => {\r\n\r\n    var cloudLvl = parseInt(mazeLvl);\r\n\r\n    if ((cloudLvl > 0)) {\r\n      document.getElementById(\"cloud2img\").style.filter = \"unset\";\r\n      document.getElementById('cloud2').style.pointerEvents = 'unset';\r\n    }\r\n    if ((cloudLvl > 1)) {\r\n      document.getElementById(\"cloud3img\").style.filter = \"unset\";\r\n      document.getElementById('cloud3').style.pointerEvents = 'unset';\r\n    }\r\n    if ((cloudLvl > 2)) {\r\n      document.getElementById(\"cloud4img\").style.filter = \"unset\";\r\n      document.getElementById('cloud4').style.pointerEvents = 'unset';\r\n    }\r\n    if ((cloudLvl > 3)) {\r\n      document.getElementById(\"cloud5img\").style.filter = \"unset\";\r\n      document.getElementById('cloud5').style.pointerEvents = 'unset';\r\n    }\r\n    if ((cloudLvl > 4)) {\r\n      document.getElementById(\"cloud6img\").style.filter = \"unset\";\r\n      document.getElementById('cloud6').style.pointerEvents = 'unset';\r\n    }\r\n    if ((cloudLvl > 5)) {\r\n      document.getElementById(\"cloud7img\").style.filter = \"unset\";\r\n      document.getElementById('cloud7').style.pointerEvents = 'unset';\r\n    }\r\n    if ((cloudLvl > 6)) {\r\n      document.getElementById(\"cloud8img\").style.filter = \"unset\";\r\n      document.getElementById('cloud8').style.pointerEvents = 'unset';\r\n    }\r\n  }\r\n\r\n  //to get the students current Lvl\r\n  studentLevel = (callback) => {\r\n\r\n    axios.get(`https://ades-ca1-project.herokuapp.com/api/mapOfMaze/` + this.state.id)\r\n      .then(res => {\r\n\r\n        this.setState({ maze: res.data[0].mazeLvl });\r\n\r\n        var mazeLvl = JSON.stringify(this.state.maze);\r\n        this.ableMaze(mazeLvl);\r\n\r\n        this.setState({ isNewLevel: false })\r\n        callback(mazeLvl);\r\n      }\r\n\r\n      )\r\n  }\r\n\r\n\r\n  mazeAnimation = (status) => {\r\n\r\n    if (status === false) {\r\n      this.studentLevel(function (mazeLvl) {\r\n        if (mazeLvl > 0) {\r\n          lvl1(mazeLvl);\r\n\r\n        } else {\r\n\r\n        }\r\n      });\r\n\r\n    } else {\r\n      this.studentLevel(function (mazeLvl) {\r\n\r\n        var updated = parseInt(mazeLvl);\r\n\r\n        if (updated === 1) {\r\n\r\n          lvl1(mazeLvl);\r\n        } else if (updated === 2) {\r\n\r\n          lvl2(mazeLvl);\r\n        }\r\n        else if (updated === 3) {\r\n          lvl3(mazeLvl);\r\n\r\n        }\r\n        else if (updated === 4) {\r\n          lvl4(mazeLvl);\r\n\r\n        }\r\n        else if (updated === 5) {\r\n          lvl5(mazeLvl);\r\n\r\n        }\r\n        else if (updated === 6) {\r\n\r\n          lvl6(mazeLvl);\r\n        }\r\n        else if (updated === 7) {\r\n\r\n          lvl7(mazeLvl);\r\n        }\r\n        else if (updated === 8) {\r\n\r\n          lvl8(mazeLvl);\r\n        }\r\n\r\n      });\r\n\r\n    }\r\n\r\n    function lvl1(mazeLvl) {\r\n      let id = null;\r\n      const elem = document.getElementById(\"animate\");\r\n      let pos = 0;\r\n      clearInterval(id);\r\n      id = setInterval(frame, 50);\r\n      function frame() {\r\n        if (pos === 12) {\r\n          clearInterval(id);\r\n          if (mazeLvl > 1) {\r\n            setTimeout(lvl2(mazeLvl), 2);\r\n          }\r\n        } else {\r\n          pos++;\r\n          elem.style.top = pos + \"%\";\r\n          elem.style.left = pos + \"%\";\r\n        }\r\n      }\r\n    }\r\n    function lvl2(mazeLvl) {\r\n      let id = null;\r\n      const elem = document.getElementById(\"animate\");\r\n      let pos = 12;\r\n      elem.style.left = pos + \"%\";\r\n      clearInterval(id);\r\n      id = setInterval(frame, 50);\r\n      function frame() {\r\n        if (pos === 50) {\r\n          clearInterval(id);\r\n          console.log(mazeLvl);\r\n          if (mazeLvl > 2) {\r\n            setTimeout(lvl3(mazeLvl), 2);\r\n          }\r\n        } else {\r\n          pos++;\r\n          elem.style.top = pos + \"%\";\r\n\r\n        }\r\n      }\r\n    }\r\n\r\n    function lvl3(mazeLvl) {\r\n      let id = null;\r\n      const elem = document.getElementById(\"animate\");\r\n      let posT = 50;\r\n      let posL = 12;\r\n      clearInterval(id);\r\n      id = setInterval(frame, 50);\r\n      function frame() {\r\n        if (posL === 30) {\r\n          clearInterval(id);\r\n          if (mazeLvl > 3) {\r\n            setTimeout(lvl4(mazeLvl), 2);\r\n          }\r\n        } else {\r\n          posT++;\r\n          posL++;\r\n          elem.style.top = posT + \"%\";\r\n          elem.style.left = posL + \"%\";\r\n\r\n        }\r\n      }\r\n    }\r\n\r\n    function lvl4(mazeLvl) {\r\n      let id = null;\r\n      const elem = document.getElementById(\"animate\");\r\n      let posT = 68;\r\n      let posL = 30;\r\n      clearInterval(id);\r\n      id = setInterval(frame, 50);\r\n      function frame() {\r\n        if (posL === 50) {\r\n          clearInterval(id);\r\n          if (mazeLvl > 4) {\r\n            setTimeout(lvl5(mazeLvl), 2);\r\n          }\r\n        } else {\r\n          posT -= 3\r\n          posL++;\r\n          elem.style.top = posT + \"%\";\r\n          elem.style.left = posL + \"%\";\r\n        }\r\n      }\r\n    }\r\n\r\n    function lvl5(mazeLvl) {\r\n      let id = null;\r\n      const elem = document.getElementById(\"animate\");\r\n      let posT = 8;\r\n      let posL = 50;\r\n      elem.style.left = posL + \"%\";\r\n      clearInterval(id);\r\n      id = setInterval(frame, 50);\r\n      function frame() {\r\n        if (posT === 60) {\r\n          clearInterval(id);\r\n          if (mazeLvl > 5) {\r\n            setTimeout(lvl6(mazeLvl), 2);\r\n          }\r\n        } else {\r\n          posT++\r\n          posL++;\r\n          elem.style.top = posT + \"%\";\r\n        }\r\n      }\r\n    }\r\n\r\n    function lvl6(mazeLvl) {\r\n      let id = null;\r\n      const elem = document.getElementById(\"animate\");\r\n      let posT = 60;\r\n      let posL = 50;\r\n      elem.style.top = posT + \"%\";\r\n      elem.style.left = posL + \"%\";\r\n      clearInterval(id);\r\n      id = setInterval(frame, 50);\r\n      function frame() {\r\n        if (posT === 10) {\r\n          clearInterval(id);\r\n          if (mazeLvl > 6) {\r\n            setTimeout(lvl7(mazeLvl), 2);\r\n          }\r\n        } else {\r\n          posT -= 2\r\n          posL++;\r\n          elem.style.top = posT + \"%\";\r\n          elem.style.left = posL + \"%\";\r\n\r\n        }\r\n      }\r\n    }\r\n\r\n    function lvl7(mazeLvl) {\r\n      let id = null;\r\n      const elem = document.getElementById(\"animate\");\r\n      let posT = 10;\r\n      let posL = 75;\r\n      elem.style.top = posT + \"%\";\r\n      elem.style.left = posL + \"%\";\r\n      clearInterval(id);\r\n      id = setInterval(frame, 50);\r\n      function frame() {\r\n        if (posT === 50) {\r\n          clearInterval(id);\r\n          if (mazeLvl > 7) {\r\n            setTimeout(lvl8(mazeLvl), 2);\r\n          }\r\n        } else {\r\n          posT++;\r\n          elem.style.top = posT + \"%\";\r\n\r\n        }\r\n      }\r\n    }\r\n\r\n    function lvl8() {\r\n      let id = null;\r\n      const elem = document.getElementById(\"animate\");\r\n      let posT = 50;\r\n      let posL = 75;\r\n      elem.style.top = posT + \"%\";\r\n      elem.style.left = posL + \"%\";\r\n\r\n      clearInterval(id);\r\n      id = setInterval(frame, 50);\r\n      function frame() {\r\n        if (posL === 85) {\r\n          clearInterval(id);\r\n\r\n        } else {\r\n          posT += 2;\r\n          posL++;\r\n          elem.style.top = posT + \"%\";\r\n          elem.style.left = posL + \"%\";\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  isShowPopup = (status, levels) => {\r\n    if (parseInt(this.state.maze) >= levels) {\r\n      this.setState({ showModalPopup: false });\r\n      window.alert(\"Level Already completed!\")\r\n    } else {\r\n      this.setState({ showModalPopup: status });\r\n\r\n      this.setState({ level: levels });\r\n\r\n      axios.get(`https://ades-ca1-project.herokuapp.com/api/maze/${levels}`)\r\n        .then(res => {\r\n\r\n          this.setState({ points: res.data[0].points });\r\n        })\r\n    }\r\n\r\n\r\n  };\r\n  handleNewLevel = (status) => {\r\n    this.setState({ isNewLevel: status });\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n\r\n      <div id=\"container\">\r\n        <div className=\"bgclouds\"></div>\r\n\r\n        {/* add exit button here! */}\r\n        {/* <p id=\"exit\" >x</p> */}\r\n        <div id=\"maze\">\r\n          <p id=\"title\">Map Of Maze</p>\r\n          <div id='cloud1' className=\"cloud\" onClick={() => this.isShowPopup(true, 1)}>\r\n\r\n            <img id='cloud1img' alt=\"\" src={cloud1} />\r\n          </div>\r\n          <div id='cloud2' className=\"cloud\" onClick={() => this.isShowPopup(true, 2)}  >\r\n            <img id='cloud2img' alt=\"\" src={cloud2} />\r\n          </div>\r\n          <div id='cloud3' className=\"cloud\" onClick={() => this.isShowPopup(true, 3)} >\r\n            <img id='cloud3img' alt=\"\" src={cloud3} />\r\n          </div>\r\n          <div id='cloud4' className=\"cloud\" onClick={() => this.isShowPopup(true, 4)} >\r\n            <img id='cloud4img' alt=\"\" src={cloud4} />\r\n          </div>\r\n          <div id='cloud5' className=\"cloud\" onClick={() => this.isShowPopup(true, 5)}>\r\n            <img id='cloud5img' alt=\"\" src={cloud5} />\r\n          </div>\r\n          <div id='cloud6' className=\"cloud\" onClick={() => this.isShowPopup(true, 6)}>\r\n            <img id='cloud6img' alt=\"\" src={cloud6} />\r\n          </div>\r\n          <div id='cloud7' className=\"cloud\" onClick={() => this.isShowPopup(true, 7)} >\r\n            <img id='cloud7img' alt=\"\" src={cloud7} />\r\n          </div>\r\n          <div id='cloud8' className=\"cloud\" onClick={() => this.isShowPopup(true, 8)} >\r\n            <img id='cloud8img' alt=\"\" src={cloud8} />\r\n          </div>\r\n          {/* the character! */}\r\n          <div id=\"animate\">\r\n            <img id=\"imgAnimate\" className=\"bounce\" alt=\"\" src={wisp} />\r\n\r\n          </div>\r\n          <div id=\"levelDisplay\">\r\n            <p id=\"level\">{this.state.maze}</p>\r\n            <p id=\"staticLevel\">Level</p>\r\n          </div>\r\n        </div>\r\n        <MazePopup\r\n          showModalPopup={this.state.showModalPopup}\r\n          onPopupClose={this.isShowPopup}\r\n          level={this.state.level}\r\n          point={this.state.points}\r\n          onNewLevel={this.handleNewLevel}\r\n          id={this.state.id}>\r\n        </MazePopup>\r\n      </div>\r\n\r\n    )\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}