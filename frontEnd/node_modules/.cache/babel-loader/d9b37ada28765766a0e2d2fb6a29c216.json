{"ast":null,"code":"import _classCallCheck from\"/Users/isaactan17/Desktop/ADES/frontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/isaactan17/Desktop/ADES/frontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/isaactan17/Desktop/ADES/frontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/isaactan17/Desktop/ADES/frontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import axios from'axios';import Button from'react-bootstrap/Button';import StudentNavigation from'./StudentNavigaton';import QuizPopUp from'./QuizPopup';import{signOut}from\"firebase/auth\";import{auth}from'../firebase.js';import'../css/navigation.css';import'../css/quiz.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Quiz=/*#__PURE__*/function(_React$Component){_inherits(Quiz,_React$Component);var _super=_createSuper(Quiz);function Quiz(){var _this;_classCallCheck(this,Quiz);_this=_super.call(this);_this.handleClose=function(){var status=false;_this.setState({showModalPopup:status});};_this.isShowPopup=function(status,quizID,totalMarks,totalPoints){_this.setState({showModalPopup:status});_this.setState({quizID:quizID});_this.setState({totalMarks:totalMarks});_this.setState({totalPoints:totalPoints});_this.handleScoreAndPoints();};_this.handleScoreAndPoints=function(event){event.preventDefault();console.log(\"BUTTON CLICKED\");var quizID=_this.state.quizID;var totalMarks=_this.state.totalMarks;var totalPoints=_this.state.totalPoints;var quiz={quizID:quizID,studentID:_this.state.id,pointsEarned:totalPoints,marksEarned:totalMarks};var studentUpdatePoint={studentID:_this.state.id,pointsEarned:totalPoints};var config={headers:{'content-type':'application/json'}};axios.post('https://ades-ca1-project.herokuapp.com/api/quizHistory',quiz,config).then(function(res){console.log(res);console.log(res.data);console.log(\"AXIOS POSTING\");});axios.put(\"https://ades-ca1-project.herokuapp.com/api/studentPoints\",studentUpdatePoint,config).then(function(res){console.log(\"HELLO WORK PLS\");console.log(res);console.log(res.data);console.log(\"AXIOS PUTTING\");window.alert(\"points awarded\");//NEED NOTY HERE STATING THAT POINTS ARE ADDED\n});};_this.state={showModalPopup:false,data:[],uid:'',id:0,quizID:0,totalMarks:0,totalPoints:0};return _this;}_createClass(Quiz,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;auth.onAuthStateChanged(function(user){if(user){console.log(\"User is Signed IN \");_this2.setState({uid:user.uid});var config={headers:{'content-type':'application/json'}};axios.get(\"https://ades-ca1-project.herokuapp.com/api/userType/\"+_this2.state.uid,config).then(function(res){//call maze animation\nif(res.data.type===1){_this2.setState({id:res.data.studentID});// area to put your axios with the student id\n}else if(res.data.type===2){window.location.replace('https://ades-ca1-project.herokuapp.com/quizment/teacherDashboard');}else{window.location.replace('https://ades-ca1-project.herokuapp.com/quizment');}});}else{console.log(\"THERE IS NO USER\");signOut(auth);window.location.replace('https://ades-ca1-project.herokuapp.com/quizment');}});axios.get(\"https://ades-ca1-project.herokuapp.com/api/quiz\").then(function(res){console.log(res.data.length);_this2.setState({data:res.data});console.log(res.data.length);_this2.setState({data:res.data});});}},{key:\"render\",value:function render(){var _this3=this;var data=this.state.data;// When the user clicks anywhere outside of the modal, close it\nreturn/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(StudentNavigation,{className:\"navBar\"}),/*#__PURE__*/_jsx(\"div\",{id:\"users\",class:\"row\"}),/*#__PURE__*/_jsx(\"table\",{class:\"table\",children:data&&data.map(function(item){return/*#__PURE__*/_jsxs(\"tr\",{id:\"tableRow\",class:\"spaceUnder\",children:[/*#__PURE__*/_jsxs(\"td\",{className:\"quizTitle\",children:[\"Quiz \",item.quizID]}),/*#__PURE__*/_jsxs(\"td\",{className:\"marks\",children:[\"Total Marks: \",item.totalMarks]}),/*#__PURE__*/_jsxs(\"td\",{className:\"points\",children:[\"Total Points:\",item.totalPoints]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return _this3.isShowPopup(true,item.quizID,item.totalMarks,item.totalPoints);},type:\"submit\",id:\"myBtn\",children:\"Do Quiz!\"})})]},item.quizID);})}),/*#__PURE__*/_jsx(QuizPopUp,{showModalPopup:this.state.showModalPopup,onPopupClose:this.handleClose,id:this.state.id,quizID:this.state.quizID})]});}}]);return Quiz;}(React.Component);export{Quiz as default};","map":{"version":3,"sources":["/Users/isaactan17/Desktop/ADES/frontEnd/src/components/Quiz.js"],"names":["React","axios","Button","StudentNavigation","QuizPopUp","signOut","auth","Quiz","handleClose","status","setState","showModalPopup","isShowPopup","quizID","totalMarks","totalPoints","handleScoreAndPoints","event","preventDefault","console","log","state","quiz","studentID","id","pointsEarned","marksEarned","studentUpdatePoint","config","headers","post","then","res","data","put","window","alert","uid","onAuthStateChanged","user","get","type","location","replace","length","map","item","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport Button from 'react-bootstrap/Button';\nimport StudentNavigation from './StudentNavigaton';\nimport QuizPopUp from './QuizPopup';\nimport { signOut } from \"firebase/auth\";\nimport { auth } from '../firebase.js';\nimport '../css/navigation.css';\nimport '../css/quiz.css';\n\nexport default class Quiz extends React.Component {\n\n    constructor() {\n        super();\n        this.state = {\n            showModalPopup: false,\n            data: [],\n            uid: '',\n            id: 0,\n            quizID: 0,\n            totalMarks: 0,\n            totalPoints: 0\n        }\n    }\n    componentDidMount() {\n        auth.onAuthStateChanged((user) => {\n            if (user) {\n                console.log(\"User is Signed IN \");\n                this.setState({ uid: user.uid });\n                const config = {\n                    headers: {\n                        'content-type': 'application/json'\n                    }\n                }\n                axios.get(`https://ades-ca1-project.herokuapp.com/api/userType/` + this.state.uid, config)\n                    .then(res => {//call maze animation\n\n                        if (res.data.type === 1) {\n                            this.setState({ id: res.data.studentID })\n                            // area to put your axios with the student id\n\n                        } else if (res.data.type === 2) {\n                            window.location.replace('https://ades-ca1-project.herokuapp.com/quizment/teacherDashboard');\n                        } else {\n                            window.location.replace('https://ades-ca1-project.herokuapp.com/quizment');\n                        }\n                    })\n            } else {\n                console.log(\"THERE IS NO USER\");\n                signOut(auth);\n                window.location.replace('https://ades-ca1-project.herokuapp.com/quizment');\n            }\n        });\n        axios.get(`https://ades-ca1-project.herokuapp.com/api/quiz`)\n            .then(res => {\n                console.log(res.data.length);\n                this.setState({ data: res.data });\n\n                console.log(res.data.length);\n\n                this.setState({ data: res.data });\n\n\n            });\n    }\n\n    handleClose = () => {\n        let status = false\n        this.setState({ showModalPopup: status });\n    }\n\n    isShowPopup = (status, quizID, totalMarks, totalPoints) => {\n        this.setState({ showModalPopup: status });\n        this.setState({ quizID: quizID });\n        this.setState({ totalMarks: totalMarks });\n        this.setState({ totalPoints: totalPoints });\n        this.handleScoreAndPoints();\n\n    }\n    handleScoreAndPoints = event => {\n\n        event.preventDefault();\n        console.log(\"BUTTON CLICKED\");\n        const quizID = this.state.quizID\n        const totalMarks = this.state.totalMarks\n        const totalPoints = this.state.totalPoints\n\n        const quiz = {\n            quizID: quizID,\n            studentID: this.state.id,\n            pointsEarned: totalPoints,\n            marksEarned: totalMarks\n        };\n        const studentUpdatePoint = {\n            studentID: this.state.id,\n            pointsEarned: totalPoints\n        }\n\n        const config = {\n            headers: {\n                'content-type': 'application/json'\n            }\n        }\n        axios.post('https://ades-ca1-project.herokuapp.com/api/quizHistory', quiz, config)\n            .then(res => {\n                console.log(res);\n                console.log(res.data);\n                console.log(\"AXIOS POSTING\")\n\n            })\n        axios.put(`https://ades-ca1-project.herokuapp.com/api/studentPoints`, studentUpdatePoint, config)\n            .then(res => {\n                console.log(\"HELLO WORK PLS\");\n                console.log(res);\n                console.log(res.data);\n                console.log(\"AXIOS PUTTING\")\n                window.alert(\"points awarded\");//NEED NOTY HERE STATING THAT POINTS ARE ADDED\n            })\n    }\n\n\n\n    render() {\n        const data = this.state.data;\n        // When the user clicks anywhere outside of the modal, close it\n        return (\n            <div>\n                <StudentNavigation className=\"navBar\">\n                </StudentNavigation>\n                <div id=\"users\" class=\"row\">\n                </div>\n\n                <table class=\"table\">\n\n                    {data && data.map(item =>\n                        <tr key={item.quizID} id='tableRow' class=\"spaceUnder\">\n                            <td className=\"quizTitle\">Quiz {item.quizID}</td>\n                            <td className=\"marks\">Total Marks: {item.totalMarks}</td>\n                            <td className=\"points\">Total Points:{item.totalPoints}</td>\n\n                            <td>\n                                <Button onClick={() => this.isShowPopup(true, item.quizID, item.totalMarks, item.totalPoints)} type=\"submit\" id=\"myBtn\">Do Quiz!</Button>\n\n                            </td>\n                        </tr>\n                    )}\n                </table>\n                <QuizPopUp\n                    showModalPopup={this.state.showModalPopup}\n                    onPopupClose={this.handleClose}\n                    id={this.state.id}\n                    quizID={this.state.quizID}\n\n                ></QuizPopUp>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}