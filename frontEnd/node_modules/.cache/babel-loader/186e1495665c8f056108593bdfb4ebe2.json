{"ast":null,"code":"import _classCallCheck from\"/Users/isaactan17/Desktop/ADES/frontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/isaactan17/Desktop/ADES/frontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/isaactan17/Desktop/ADES/frontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/isaactan17/Desktop/ADES/frontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import axios from'axios';import{store}from'react-notifications-component';import Button from'react-bootstrap/Button';import Card from'react-bootstrap/Card';import{Row,Col}from'react-bootstrap';import{signOut}from\"firebase/auth\";import{auth}from'../firebase.js';import'../css/studentReward.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var StudentBadges=/*#__PURE__*/function(_React$Component){_inherits(StudentBadges,_React$Component);var _super=_createSuper(StudentBadges);function StudentBadges(){var _this;_classCallCheck(this,StudentBadges);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={data:[],dataAll:[],url:'',uid:'',id:0};return _this;}_createClass(StudentBadges,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;// Auth\nauth.onAuthStateChanged(function(user){// IF there's user\nif(user){console.log(\"User is Signed IN \");_this2.setState({uid:user.uid});var config={headers:{'content-type':'application/json'}};// Get the user type\naxios.get(\"https://ades-ca1-project.herokuapp.com/api/userType/\"+_this2.state.uid,config).then(function(res){// IF is student\nif(res.data.type===1){_this2.setState({id:res.data.studentID});// IF is teacher\n}else if(res.data.type===2){window.location.replace('https://ades-ca1-project.herokuapp.com/quizment/teacherDashboard');// ELSE kick them out\n}else{window.location.replace('https://ades-ca1-project.herokuapp.com/quizment');}});// ELSE kick them out\n}else{console.log(\"THERE IS NO USER\");signOut(auth);window.location.replace('https://ades-ca1-project.herokuapp.com/quizment');}});// Get all the badges\naxios.get('https://ades-ca1-project.herokuapp.com/api/badges').then(function(res){_this2.setState({dataAll:res.data});});// Get all the badges\naxios.get('https://ades-ca1-project.herokuapp.com/api/students/badges/'+this.state.id).then(function(res){_this2.setState({data:res.data});});}},{key:\"render\",value:function render(){var data=this.state.data;var dataAll=this.state.dataAll;return/*#__PURE__*/_jsxs(\"div\",{className:\"StudentReward\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Badges Earned\"}),/*#__PURE__*/_jsx(\"div\",{className:\"Rewards\",children:/*#__PURE__*/_jsx(Row,{xs:1,md:2,lg:3,className:\"g-4\",children:data&&data.map(function(item){return/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(Card,{border:\"warning\",children:[/*#__PURE__*/_jsx(Card.Img,{className:\"cardPic\",variant:\"top\",src:item.pic_url}),/*#__PURE__*/_jsxs(Card.Body,{className:\"cardBody\",children:[/*#__PURE__*/_jsx(Card.Title,{children:item.name}),/*#__PURE__*/_jsxs(Card.Text,{children:[\"Number of times earned: \",item.amount]})]})]})});})})}),/*#__PURE__*/_jsx(\"h1\",{children:\"Badges That You Can Get\"}),/*#__PURE__*/_jsx(\"div\",{className:\"Rewards\",children:/*#__PURE__*/_jsx(Row,{xs:1,md:2,lg:3,className:\"g-4\",children:dataAll&&dataAll.map(function(item){return/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(Card,{border:\"warning\",children:[/*#__PURE__*/_jsx(Card.Img,{className:\"cardPic\",variant:\"top\",src:item.pic_url}),/*#__PURE__*/_jsxs(Card.Body,{className:\"cardBody\",children:[/*#__PURE__*/_jsx(Card.Title,{children:item.name}),/*#__PURE__*/_jsxs(Card.Text,{children:[\"Requirement: \",item.requirements]}),/*#__PURE__*/_jsxs(Card.Text,{children:[\"Badge Class Name: \",item.className]}),/*#__PURE__*/_jsxs(Card.Text,{children:[\"Badge Class Description: For \",item.classDescription]})]})]})});})})})]});}}]);return StudentBadges;}(React.Component);export{StudentBadges as default};","map":{"version":3,"sources":["/Users/isaactan17/Desktop/ADES/frontEnd/src/components/StudentBadges.js"],"names":["React","axios","store","Button","Card","Row","Col","signOut","auth","StudentBadges","state","data","dataAll","url","uid","id","onAuthStateChanged","user","console","log","setState","config","headers","get","then","res","type","studentID","window","location","replace","map","item","pic_url","name","amount","requirements","className","classDescription","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport { store } from 'react-notifications-component';\nimport Button from 'react-bootstrap/Button';\nimport Card from 'react-bootstrap/Card';\nimport { Row, Col } from 'react-bootstrap';\nimport { signOut } from \"firebase/auth\";\nimport { auth } from '../firebase.js';\nimport '../css/studentReward.css';\n\nexport default class StudentBadges extends React.Component {\n  state = {\n    data: [],\n    dataAll: [],\n    url: '',\n    uid: '',\n    id: 0\n  }\n\n  componentDidMount() {\n    // Auth\n    auth.onAuthStateChanged((user) => {\n      // IF there's user\n      if (user) {\n        console.log(\"User is Signed IN \");\n        this.setState({ uid: user.uid });\n        const config = {\n          headers: {\n            'content-type': 'application/json'\n          }\n        }\n\n        // Get the user type\n        axios.get(`https://ades-ca1-project.herokuapp.com/api/userType/` + this.state.uid, config)\n          .then(res => {\n            // IF is student\n            if (res.data.type === 1) {\n              this.setState({ id: res.data.studentID })\n            // IF is teacher\n            } else if (res.data.type === 2) {\n              window.location.replace('https://ades-ca1-project.herokuapp.com/quizment/teacherDashboard');\n            // ELSE kick them out\n            } else {\n              window.location.replace('https://ades-ca1-project.herokuapp.com/quizment');\n            }\n          })\n      // ELSE kick them out\n      } else {\n        console.log(\"THERE IS NO USER\");\n        signOut(auth);\n        window.location.replace('https://ades-ca1-project.herokuapp.com/quizment');\n      }\n    });\n\n    // Get all the badges\n    axios.get('https://ades-ca1-project.herokuapp.com/api/badges')\n      .then(res => {\n        this.setState({ dataAll: res.data });\n      })\n\n    // Get all the badges\n    axios.get('https://ades-ca1-project.herokuapp.com/api/students/badges/' + this.state.id)\n    .then(res => {\n      this.setState({ data: res.data });\n    })\n  }\n\n  render() {\n    const data = this.state.data;\n    const dataAll = this.state.dataAll;\n    return (\n      <div className=\"StudentReward\">\n        <h1>Badges Earned</h1>\n        <div className=\"Rewards\">\n          <Row xs={1} md={2} lg={3} className=\"g-4\">\n            {data && data.map(item =>\n              <Col>\n                <Card border=\"warning\">\n                  <Card.Img className=\"cardPic\" variant=\"top\" src={item.pic_url} />\n                  <Card.Body className=\"cardBody\">\n                    <Card.Title>{item.name}</Card.Title>\n                    <Card.Text>Number of times earned: {item.amount}</Card.Text>\n                  </Card.Body>\n                </Card>\n              </Col>\n            )}\n          </Row>\n        </div>\n        <h1>Badges That You Can Get</h1>\n        <div className=\"Rewards\">\n          <Row xs={1} md={2} lg={3} className=\"g-4\">\n            {dataAll && dataAll.map(item =>\n              <Col>\n                <Card border=\"warning\">\n                  <Card.Img className=\"cardPic\" variant=\"top\" src={item.pic_url} />\n                  <Card.Body className=\"cardBody\">\n                    <Card.Title>{item.name}</Card.Title>\n                    <Card.Text>Requirement: {item.requirements}</Card.Text>\n                    <Card.Text>Badge Class Name: {item.className}</Card.Text>\n                    <Card.Text>Badge Class Description: For {item.classDescription}</Card.Text>\n                  </Card.Body>\n                </Card>\n              </Col>\n            )}\n          </Row>\n        </div>\n      </div>\n\n    )\n  }\n}"]},"metadata":{},"sourceType":"module"}