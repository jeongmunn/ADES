{"ast":null,"code":"import _classCallCheck from\"/Users/isaactan17/Desktop/ADES/frontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/isaactan17/Desktop/ADES/frontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/isaactan17/Desktop/ADES/frontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/isaactan17/Desktop/ADES/frontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{useState,useEffect}from'react';import{signOut}from\"firebase/auth\";import{auth}from'../firebase.js';import axios from'axios';import Table from'react-bootstrap/Table';import'../css/teacherLeaderboard.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ViewLeaderboard=/*#__PURE__*/function(_React$Component){_inherits(ViewLeaderboard,_React$Component);var _super=_createSuper(ViewLeaderboard);function ViewLeaderboard(){var _this;_classCallCheck(this,ViewLeaderboard);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={data:[],uid:''};return _this;}_createClass(ViewLeaderboard,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;// Auth\nauth.onAuthStateChanged(function(user){// IF there's user\nif(user){console.log(\"User is Signed IN \");_this2.setState({uid:user.uid});var config={headers:{'content-type':'application/json'}};// Get the user type\naxios.get(\"https://ades-ca1-project.herokuapp.com/api/userType/\"+_this2.state.uid,config).then(function(res){// IF is student\nif(res.data.type===1){window.location.replace('https://ades-ca1-project.herokuapp.com/quizment/studentDashboard');// IF is teacher\n}else if(res.data.type===2){// GET all leaderboard data\naxios.get('https://ades-ca1-project.herokuapp.com/api/allLeaderboard').then(function(res){_this2.setState({data:res.data});});// ELSE kick them out\n}else{window.location.replace('https://ades-ca1-project.herokuapp.com/quizment');}});// ELSE kick them out\n}else{console.log(\"THERE IS NO USER\");signOut(auth);window.location.replace('https://ades-ca1-project.herokuapp.com/quizment');}});}},{key:\"render\",value:function render(){var data=this.state.data;return/*#__PURE__*/_jsxs(\"div\",{className:\"teacherLeaderboard\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Leaderboard\"}),/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,size:\"sm\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Rank#\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Points\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:data&&data.map(function(item,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:index+1}),/*#__PURE__*/_jsx(\"td\",{children:item.name}),/*#__PURE__*/_jsx(\"td\",{children:item.totalPts})]},item.studentID);})})]})]});}}]);return ViewLeaderboard;}(React.Component);export{ViewLeaderboard as default};","map":{"version":3,"sources":["/Users/isaactan17/Desktop/ADES/frontEnd/src/components/TeacherLeaderboard.js"],"names":["React","useState","useEffect","signOut","auth","axios","Table","ViewLeaderboard","state","data","uid","onAuthStateChanged","user","console","log","setState","config","headers","get","then","res","type","window","location","replace","map","item","index","name","totalPts","studentID","Component"],"mappings":"wmBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,OAAT,KAAwB,eAAxB,CACA,OAASC,IAAT,KAAqB,gBAArB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,uBAAlB,CACA,MAAO,+BAAP,C,2FAEqBC,CAAAA,e,2WACjBC,K,CAAQ,CACJC,IAAI,CAAE,EADF,CAEJC,GAAG,CAAE,EAFD,C,4EAKR,4BAAoB,iBAChB;AACAN,IAAI,CAACO,kBAAL,CAAwB,SAACC,IAAD,CAAU,CAC9B;AACA,GAAIA,IAAJ,CAAU,CACNC,OAAO,CAACC,GAAR,CAAY,oBAAZ,EACA,MAAI,CAACC,QAAL,CAAc,CAAEL,GAAG,CAAEE,IAAI,CAACF,GAAZ,CAAd,EACA,GAAMM,CAAAA,MAAM,CAAG,CACXC,OAAO,CAAE,CACL,eAAgB,kBADX,CADE,CAAf,CAKA;AACAZ,KAAK,CAACa,GAAN,CAAU,uDAAyD,MAAI,CAACV,KAAL,CAAWE,GAA9E,CAAmFM,MAAnF,EACKG,IADL,CACU,SAAAC,GAAG,CAAI,CACT;AACA,GAAIA,GAAG,CAACX,IAAJ,CAASY,IAAT,GAAkB,CAAtB,CAAyB,CACrBC,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAwB,kEAAxB,EACA;AACH,CAHD,IAGO,IAAIJ,GAAG,CAACX,IAAJ,CAASY,IAAT,GAAkB,CAAtB,CAAyB,CAC5B;AACAhB,KAAK,CAACa,GAAN,CAAU,2DAAV,EACKC,IADL,CACU,SAAAC,GAAG,CAAI,CACT,MAAI,CAACL,QAAL,CAAc,CAAEN,IAAI,CAAEW,GAAG,CAACX,IAAZ,CAAd,EACH,CAHL,EAIA;AACH,CAPM,IAOA,CACHa,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAwB,iDAAxB,EACH,CACJ,CAhBL,EAiBA;AACH,CA3BD,IA2BO,CACHX,OAAO,CAACC,GAAR,CAAY,kBAAZ,EACAX,OAAO,CAACC,IAAD,CAAP,CACAkB,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAwB,iDAAxB,EACH,CACJ,CAlCD,EAmCH,C,sBAED,iBAAS,CAEL,GAAMf,CAAAA,IAAI,CAAG,KAAKD,KAAL,CAAWC,IAAxB,CAEA,mBACI,aAAK,SAAS,CAAC,oBAAf,wBACI,mCADJ,cAEI,MAAC,KAAD,EAAO,OAAO,KAAd,CAAe,QAAQ,KAAvB,CAAwB,KAAK,KAA7B,CAA8B,IAAI,CAAC,IAAnC,wBACI,oCACI,mCACI,6BADJ,cAEI,4BAFJ,cAGI,8BAHJ,GADJ,EADJ,cAQI,uBACKA,IAAI,EAAIA,IAAI,CAACgB,GAAL,CAAS,SAACC,IAAD,CAAOC,KAAP,qBACd,mCACI,oBAAKA,KAAK,CAAG,CAAb,EADJ,cAEI,oBAAKD,IAAI,CAACE,IAAV,EAFJ,cAGI,oBAAKF,IAAI,CAACG,QAAV,EAHJ,GAASH,IAAI,CAACI,SAAd,CADc,EAAT,CADb,EARJ,GAFJ,GADJ,CAuBH,C,6BAxEwC9B,KAAK,CAAC+B,S,SAA9BxB,e","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { signOut } from \"firebase/auth\";\nimport { auth } from '../firebase.js';\nimport axios from 'axios';\nimport Table from 'react-bootstrap/Table';\nimport '../css/teacherLeaderboard.css';\n\nexport default class ViewLeaderboard extends React.Component {\n    state = {\n        data: [],\n        uid: ''\n    }\n\n    componentDidMount() {\n        // Auth\n        auth.onAuthStateChanged((user) => {\n            // IF there's user\n            if (user) {\n                console.log(\"User is Signed IN \");\n                this.setState({ uid: user.uid });\n                const config = {\n                    headers: {\n                        'content-type': 'application/json'\n                    }\n                }\n                // Get the user type\n                axios.get(`https://ades-ca1-project.herokuapp.com/api/userType/` + this.state.uid, config)\n                    .then(res => {\n                        // IF is student\n                        if (res.data.type === 1) {\n                            window.location.replace('https://ades-ca1-project.herokuapp.com/quizment/studentDashboard');\n                            // IF is teacher\n                        } else if (res.data.type === 2) {\n                            // GET all leaderboard data\n                            axios.get('https://ades-ca1-project.herokuapp.com/api/allLeaderboard')\n                                .then(res => {\n                                    this.setState({ data: res.data });\n                                })\n                            // ELSE kick them out\n                        } else {\n                            window.location.replace('https://ades-ca1-project.herokuapp.com/quizment');\n                        }\n                    })\n                // ELSE kick them out\n            } else {\n                console.log(\"THERE IS NO USER\");\n                signOut(auth);\n                window.location.replace('https://ades-ca1-project.herokuapp.com/quizment');\n            }\n        });\n    }\n\n    render() {\n\n        const data = this.state.data;\n\n        return (\n            <div className=\"teacherLeaderboard\">\n                <h1>Leaderboard</h1>\n                <Table striped bordered hover size=\"sm\">\n                    <thead>\n                        <tr>\n                            <th>Rank#</th>\n                            <th>Name</th>\n                            <th>Points</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {data && data.map((item, index) =>\n                            <tr key={item.studentID}>\n                                <td>{index + 1}</td>\n                                <td>{item.name}</td>\n                                <td>{item.totalPts}</td>\n                            </tr>\n                        )}\n                    </tbody>\n                </Table>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}