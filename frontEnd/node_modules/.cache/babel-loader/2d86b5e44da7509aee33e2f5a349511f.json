{"ast":null,"code":"import _classCallCheck from\"/Users/isaactan17/Desktop/ADES/frontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/isaactan17/Desktop/ADES/frontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/isaactan17/Desktop/ADES/frontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/isaactan17/Desktop/ADES/frontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import axios from'axios';import Button from'react-bootstrap/Button';import'../css/quiz.css';import QuizPopup from'./QuizPopUp';import{signOut}from\"firebase/auth\";import{auth}from'../firebase.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Quiz=/*#__PURE__*/function(_React$Component){_inherits(Quiz,_React$Component);var _super=_createSuper(Quiz);function Quiz(){var _this;_classCallCheck(this,Quiz);_this=_super.call(this);_this.handleClose=function(){var status=false;_this.setState({showModalPopup:status});};_this.handleScoreAndPoints=function(quizID,totalMarks,totalPoints){_this.setState({quizID:quizID});_this.setState({totalMarks:totalMarks});_this.setState({totalPoints:totalPoints});console.log(\"BUTTON CLICKED\");// const quizID = this.state.quizID\n// const totalMarks = this.state.totalMarks\n// const totalPoints = this.state.totalPoints\nvar quiz={quizID:_this.state.quizID,studentID:_this.state.id,pointsEarned:_this.state.totalPoints,marksEarned:_this.state.totalMarks};var studentUpdatePoint={studentID:_this.state.id,pointsEarned:_this.state.totalPoints};var config={headers:{'content-type':'application/json'}};axios.post('https://ades-ca1-project.herokuapp.com/api/quizHistory',quiz,config).then(function(res){console.log(res);console.log(res.data);console.log(\"AXIOS POSTING\");_this.quizHistory(function(){this.setState({showModalPopup:true});});});axios.put(\"https://ades-ca1-project.herokuapp.com/api/studentPoints\",studentUpdatePoint,config).then(function(res){console.log(\"HELLO WORK PLS\");console.log(res);console.log(res.data);console.log(\"AXIOS PUTTING\");window.alert(\"points awarded\");//NEED NOTY HERE STATING THAT POINTS ARE ADDED\n});};_this.quizHistory=function(callback){axios.get('https://ades-ca1-project.herokuapp.com/api/summary/'+_this.state.quizID+'/'+_this.state.id).then(function(res){_this.setState({data:res.data});callback();});};_this.state={showModalPopup:false,data:[],uid:'',id:0,quizID:0,totalMarks:0,totalPoints:0};return _this;}_createClass(Quiz,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;auth.onAuthStateChanged(function(user){if(user){console.log(\"User is Signed IN \");_this2.setState({uid:user.uid});var config={headers:{'content-type':'application/json'}};axios.get(\"https://ades-ca1-project.herokuapp.com/api/userType/\"+_this2.state.uid,config).then(function(res){//call maze animation\nif(res.data.type===1){_this2.setState({id:res.data.studentID});// area to put your axios with the student id\n}else if(res.data.type===2){window.location.replace('https://ades-ca1-project.herokuapp.com/quizment/teacherDashboard');}else{window.location.replace('https://ades-ca1-project.herokuapp.com/quizment');}});}else{console.log(\"THERE IS NO USER\");signOut(auth);window.location.replace('https://ades-ca1-project.herokuapp.com/quizment');}});axios.get(\"https://ades-ca1-project.herokuapp.com/api/quiz\").then(function(res){console.log(res.data.length);_this2.setState({data:res.data});console.log(res.data.length);_this2.setState({data:res.data});});}},{key:\"render\",value:function render(){var _this3=this;var data=this.state.data;// When the user clicks anywhere outside of the modal, close it\nreturn/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{id:\"users\",class:\"row\"}),/*#__PURE__*/_jsx(\"table\",{class:\"quizTable\",children:data&&data.map(function(item){return/*#__PURE__*/_jsxs(\"tr\",{id:\"tableRow\",class:\"quizRow\",children:[/*#__PURE__*/_jsxs(\"td\",{className:\"quizTitle quizTableD\",children:[\"Quiz \",item.quizID]}),/*#__PURE__*/_jsxs(\"td\",{className:\"marks quizTableD\",children:[\"Total Marks: \",item.totalMarks]}),/*#__PURE__*/_jsxs(\"td\",{className:\"quizpoints quizTableD\",children:[\"Total Points:\",item.totalPoints]}),/*#__PURE__*/_jsx(\"td\",{className:\"quizTableD\",children:/*#__PURE__*/_jsx(\"button\",{className:\"gradient-button gradient-button-1\",onClick:function onClick(){return _this3.handleScoreAndPoints(item.quizID,item.totalMarks,item.totalPoints);},type:\"submit\",id:\"myBtn\",children:\"Do Quiz!\"})})]},item.quizID);})}),/*#__PURE__*/_jsx(QuizPopup,{showModalPopup:this.state.showModalPopup,onPopupClose:this.handleClose,data:this.state.data})]});}}]);return Quiz;}(React.Component);export{Quiz as default};","map":{"version":3,"sources":["/Users/isaactan17/Desktop/ADES/frontEnd/src/components/Quiz.js"],"names":["React","axios","Button","QuizPopup","signOut","auth","Quiz","handleClose","status","setState","showModalPopup","handleScoreAndPoints","quizID","totalMarks","totalPoints","console","log","quiz","state","studentID","id","pointsEarned","marksEarned","studentUpdatePoint","config","headers","post","then","res","data","quizHistory","put","window","alert","callback","get","uid","onAuthStateChanged","user","type","location","replace","length","map","item","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport Button from 'react-bootstrap/Button';\nimport '../css/quiz.css';\nimport QuizPopup from './QuizPopUp';\nimport { signOut } from \"firebase/auth\";\nimport { auth } from '../firebase.js';\nexport default class Quiz extends React.Component {\n\n    constructor() {\n        super();\n        this.state = {\n            showModalPopup: false,\n            data: [],\n            uid: '',\n            id: 0,\n            quizID: 0,\n            totalMarks:0,\n            totalPoints:0\n\n\n\n        }\n    }\n    componentDidMount() {\n      \n        auth.onAuthStateChanged((user) => {\n            if (user) {\n                console.log(\"User is Signed IN \");\n                this.setState({ uid: user.uid });\n                const config = {\n                    headers: {\n                        'content-type': 'application/json'\n                    }\n                }\n                axios.get(`https://ades-ca1-project.herokuapp.com/api/userType/` + this.state.uid, config)\n                    .then(res => {//call maze animation\n                       \n                        if (res.data.type === 1) {\n                            this.setState({ id: res.data.studentID })\n                            // area to put your axios with the student id\n\n                        } else if (res.data.type === 2) {\n                            window.location.replace('https://ades-ca1-project.herokuapp.com/quizment/teacherDashboard');\n                        } else {\n                            window.location.replace('https://ades-ca1-project.herokuapp.com/quizment');\n                        }\n                    })\n            } else {\n                console.log(\"THERE IS NO USER\");\n                signOut(auth);\n                window.location.replace('https://ades-ca1-project.herokuapp.com/quizment');\n            }\n        });\n        axios.get(`https://ades-ca1-project.herokuapp.com/api/quiz`)\n            .then(res => {\n                console.log(res.data.length);\n                this.setState({ data: res.data });\n\n                console.log(res.data.length);\n\n                this.setState({ data: res.data });\n\n\n            });\n    }\n\n    handleClose = () => {\n        let status = false\n        this.setState({ showModalPopup: status });\n    }\n\n   \n    handleScoreAndPoints = (quizID, totalMarks, totalPoints)  => {\n      \n        this.setState({ quizID: quizID });\n      this.setState({totalMarks:totalMarks});\n      this.setState({totalPoints:totalPoints});\n        console.log(\"BUTTON CLICKED\");\n        // const quizID = this.state.quizID\n        // const totalMarks = this.state.totalMarks\n        // const totalPoints = this.state.totalPoints\n\n        const quiz = {\n            quizID: this.state.quizID,\n            studentID: this.state.id,\n            pointsEarned: this.state.totalPoints,\n            marksEarned: this.state.totalMarks\n        };\n        const studentUpdatePoint = {\n            studentID: this.state.id,\n            pointsEarned: this.state.totalPoints\n        }\n\n        const config = {\n            headers: {\n                'content-type': 'application/json'\n            }\n        }\n        axios.post('https://ades-ca1-project.herokuapp.com/api/quizHistory', quiz, config)\n            .then(res => {\n                console.log(res);\n                console.log(res.data);\n                console.log(\"AXIOS POSTING\")\n                this.quizHistory(function(){\n                    this.setState({  showModalPopup: true})\n                });\n          \n            })\n        axios.put(`https://ades-ca1-project.herokuapp.com/api/studentPoints`, studentUpdatePoint, config)\n            .then(res => {\n                console.log(\"HELLO WORK PLS\");\n                console.log(res);\n                console.log(res.data);\n                console.log(\"AXIOS PUTTING\")\n                window.alert(\"points awarded\");//NEED NOTY HERE STATING THAT POINTS ARE ADDED\n              \n            })\n\n        }\n\n    quizHistory = (callback)=>{\n        axios.get('https://ades-ca1-project.herokuapp.com/api/summary/'  + this.state.quizID + '/' + this.state.id)\n              .then(res => {\n                  this.setState({ data: res.data });\n                    \n                    callback()\n              })\n              \n  }\n  \n\n    render() {\n        const data = this.state.data;\n        // When the user clicks anywhere outside of the modal, close it\n        return (\n            <div>\n                <div id=\"users\" class=\"row\">\n                </div>\n              \n                <table class=\"quizTable\">\n\n                    {data && data.map(item =>\n                        <tr key={item.quizID} id='tableRow' class=\"quizRow\">\n                            <td className=\"quizTitle quizTableD\">Quiz {item.quizID}</td>\n                            <td className=\"marks quizTableD\">Total Marks: {item.totalMarks}</td>\n                            <td className=\"quizpoints quizTableD\">Total Points:{item.totalPoints}</td>\n\n                            <td className=\"quizTableD\">\n                                <button className=\"gradient-button gradient-button-1\" onClick={() => this.handleScoreAndPoints(item.quizID, item.totalMarks, item.totalPoints)}  type=\"submit\" id=\"myBtn\">Do Quiz!</button>\n\n                            </td>\n                        </tr>\n                    )}\n                </table>\n                <QuizPopup\n                    showModalPopup={this.state.showModalPopup}\n                    onPopupClose={this.handleClose}\n                    data={this.state.data}\n                    \n                ></QuizPopup>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}